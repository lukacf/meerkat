{
  "CommsParams": {
    "$defs": {
      "PeerMeta": {
        "description": "Supplementary metadata attached to a peer for discovery.\n\nThe peer's routing name lives in `TrustedPeer.name` / `comms_name`.\n`PeerMeta` carries additional context: what the agent does and\narbitrary key/value labels.\n\n# Serde\n\nBoth fields use `skip_serializing_if`, so `PeerMeta::default()`\nserializes to `{}`.",
        "properties": {
          "description": {
            "description": "What this agent does (e.g. \"Reviews pull requests for style issues\").",
            "type": [
              "string",
              "null"
            ]
          },
          "labels": {
            "additionalProperties": {
              "type": "string"
            },
            "description": "Arbitrary key/value labels (e.g. `{\"lang\": \"rust\", \"team\": \"infra\"}`).\n\n`BTreeMap` keeps keys sorted for deterministic serialization.",
            "type": "object"
          }
        },
        "type": "object"
      }
    },
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Comms parameters.",
    "properties": {
      "comms_name": {
        "type": [
          "string",
          "null"
        ]
      },
      "host_mode": {
        "default": false,
        "type": "boolean"
      },
      "peer_meta": {
        "anyOf": [
          {
            "$ref": "#/$defs/PeerMeta"
          },
          {
            "type": "null"
          }
        ],
        "description": "Friendly metadata for peer discovery."
      }
    },
    "title": "CommsParams",
    "type": "object"
  },
  "SkillsParams": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Skills parameters for session/turn requests.\n\n`preload_skills`: Pre-load these skills at session creation.\n`None` or empty = inventory-only mode (no pre-loading).\n`Some([])` is normalized to `None` to prevent silent misconfiguration.\n\n`skill_references`: Skill IDs to resolve and inject for this turn.\n`None` or empty = no per-turn skill injection.",
    "properties": {
      "preload_skills": {
        "items": {
          "type": "string"
        },
        "type": [
          "array",
          "null"
        ]
      },
      "skill_references": {
        "items": {
          "type": "string"
        },
        "type": [
          "array",
          "null"
        ]
      }
    },
    "title": "SkillsParams",
    "type": "object"
  }
}