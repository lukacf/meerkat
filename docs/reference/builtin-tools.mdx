---
title: "Built-in tools reference"
description: "Comprehensive reference for all built-in tools available in Meerkat, including parameters, types, and defaults."
icon: "wrench"
---

## Overview

| Tool | Category | Default | Gate | Description |
|------|----------|---------|------|-------------|
| `task_create` | Task | Yes | -- | Create a new task |
| `task_get` | Task | Yes | -- | Get a task by ID |
| `task_list` | Task | Yes | -- | List tasks with optional filters |
| `task_update` | Task | Yes | -- | Update an existing task |
| `shell` | Shell | No | -- | Execute a shell command |
| `shell_jobs` | Shell | No | -- | List background shell jobs |
| `shell_job_status` | Shell | No | -- | Check background job status |
| `shell_job_cancel` | Shell | No | -- | Cancel a background job |
| `agent_spawn` | Sub-Agent | No | `sub-agents` | Spawn a new sub-agent |
| `agent_fork` | Sub-Agent | No | `sub-agents` | Fork with continued context |
| `agent_status` | Sub-Agent | No | `sub-agents` | Get sub-agent status |
| `agent_cancel` | Sub-Agent | No | `sub-agents` | Cancel a sub-agent |
| `agent_list` | Sub-Agent | No | `sub-agents` | List all sub-agents |
| `memory_search` | Memory | N/A | `memory-store-session` | Search semantic memory |
| `wait` | Utility | Yes | -- | Pause execution |
| `datetime` | Utility | Yes | -- | Get current date/time |
| `send` | Comms | Yes | `comms` | Send message/request/response to a peer |
| `peers` | Comms | Yes | `comms` | List discoverable peers (trusted + inproc) |

## Enabling and disabling tools

<Accordion title="Factory-level flags">
`AgentFactory` controls which tool categories are available via builder methods:

| Flag | Builder Method | Default | Controls |
|------|---------------|---------|----------|
| `enable_builtins` | `.builtins(bool)` | `false` | Task tools, utility tools (`wait`, `datetime`) |
| `enable_shell` | `.shell(bool)` | `false` | All shell tools (`shell`, `shell_jobs`, `shell_job_status`, `shell_job_cancel`) |
| `enable_subagents` | `.subagents(bool)` | `false` | All sub-agent tools (requires `sub-agents` feature) |
| `enable_memory` | `.memory(bool)` | `false` | `memory_search` (requires `memory-store-session` feature) |
| `enable_comms` | `.comms(bool)` | `false` | All comms tools (requires `comms` feature) |
| `enable_mob` | `.mob(bool)` | `false` | Mob orchestration tools (`mob_*`, `meerkat_*`) |

`AgentFactory` is the only place tool categories are composed. `AgentBuilder` (in `meerkat-core`) has no dependency on `meerkat-tools` and does not auto-register any tools â€” it takes a pre-built dispatcher. See [AgentBuilder vs AgentFactory](/rust/advanced#agentbuilder-vs-agentfactory).

**Source:** `meerkat/src/factory.rs` -- `AgentFactory` struct and builder methods.
</Accordion>

<Accordion title="Per-build overrides">
Each `AgentBuildConfig` can override factory-level flags for a single agent build:

| Override Field | Type | Effect |
|---------------|------|--------|
| `override_builtins` | `Option<bool>` | Takes precedence over `enable_builtins` when `Some` |
| `override_shell` | `Option<bool>` | Takes precedence over `enable_shell` when `Some` |
| `override_subagents` | `Option<bool>` | Takes precedence over `enable_subagents` when `Some` |
| `override_memory` | `Option<bool>` | Takes precedence over `enable_memory` when `Some` |
| `override_mob` | `Option<bool>` | Takes precedence over `enable_mob` when `Some` |

All default to `None` (use factory-level setting).

**Source:** `meerkat/src/factory.rs` -- `AgentBuildConfig` struct.
</Accordion>

<Accordion title="ToolPolicyLayer">
Individual tools can be enabled or disabled via `ToolPolicyLayer` in `BuiltinToolConfig`. When shell is enabled, a `ToolPolicyLayer` is applied that activates the four shell tools (which have `default_enabled: false`). The same mechanism applies to sub-agent tools.
</Accordion>

<Accordion title="Capability registrations">
Capabilities are registered via the `inventory` crate in `meerkat-tools/src/lib.rs`:

- **Builtins** (`CapabilityId::Builtins`): `task_list`, `task_create`, `task_get`, `task_update`, `wait`, `datetime`. Controlled by `config.tools.builtins_enabled`.
- **Shell** (`CapabilityId::Shell`): `shell`, `shell_jobs`, `shell_job_status`, `shell_job_cancel`. Controlled by `config.tools.shell_enabled`.
- **SubAgents** (`CapabilityId::SubAgents`): `agent_spawn`, `agent_fork`, `agent_status`, `agent_cancel`, `agent_list`. Requires `sub-agents` feature.
</Accordion>

## Task tools

Task tools provide structured work tracking. They are enabled by default when builtins are on. Tasks are persisted via `TaskStore` (either `FileTaskStore` on disk or `MemoryTaskStore` in-memory).

<Accordion title="Task data model">
A `Task` object returned by task tools has these fields:

| Field | Type | Description |
|-------|------|-------------|
| `id` | `String` | Unique task identifier |
| `subject` | `String` | Short subject/title |
| `description` | `String` | Detailed description |
| `status` | `String` | `"pending"`, `"in_progress"`, or `"completed"` |
| `priority` | `String` | `"low"`, `"medium"`, or `"high"` |
| `labels` | `String[]` | Labels/tags for categorization |
| `blocks` | `String[]` | IDs of tasks that this task blocks |
| `blocked_by` | `String[]` | IDs of tasks that block this task |
| `created_at` | `String` | ISO 8601 creation timestamp |
| `updated_at` | `String` | ISO 8601 last-updated timestamp |
| `created_by_session` | `String?` | Session ID that created this task |
| `updated_by_session` | `String?` | Session ID that last updated this task |
| `owner` | `String?` | Owner/assignee (agent name or user identifier) |
| `metadata` | `Object` | Arbitrary key-value metadata |

**Source:** `meerkat-tools/src/builtin/types.rs` -- `Task` struct.
</Accordion>

<Accordion title="task_create">
Create a new task in the project task list.

**Default enabled:** Yes

<ParamField body="subject" type="String" required>
  Short subject/title of the task.
</ParamField>

<ParamField body="description" type="String" required>
  Detailed description of what needs to be done.
</ParamField>

<ParamField body="priority" type="String" default="medium">
  `"low"`, `"medium"`, or `"high"`.
</ParamField>

<ParamField body="labels" type="String[]" default="[]">
  Labels/tags for categorization.
</ParamField>

<ParamField body="blocks" type="String[]" default="[]">
  Task IDs that this task blocks.
</ParamField>

<ParamField body="blocked_by" type="String[]" default="[]">
  Task IDs that block this task.
</ParamField>

<ParamField body="owner" type="String" default="null">
  Owner/assignee.
</ParamField>

<ParamField body="metadata" type="Object" default="{}">
  Arbitrary key-value metadata.
</ParamField>

**Returns:** The created `Task` object (see task data model above).

**Source:** `meerkat-tools/src/builtin/tasks/task_create.rs`
</Accordion>

<Accordion title="task_get">
Get a task by its ID.

**Default enabled:** Yes

<ParamField body="id" type="String" required>
  The task ID to retrieve.
</ParamField>

**Returns:** The `Task` object matching the given ID.

**Error:** `ExecutionFailed` if the task ID is not found.

**Source:** `meerkat-tools/src/builtin/tasks/task_get.rs`
</Accordion>

<Accordion title="task_list">
List tasks in the project, optionally filtered by status or labels.

**Default enabled:** Yes

<ParamField body="status" type="String" default="null (all)">
  Filter by status: `"pending"`, `"in_progress"`, or `"completed"`.
</ParamField>

<ParamField body="labels" type="String[]" default="null (all)">
  Filter by labels (tasks matching any label).
</ParamField>

**Returns:** Array of `Task` objects matching the filters.

**Source:** `meerkat-tools/src/builtin/tasks/task_list.rs`
</Accordion>

<Accordion title="task_update">
Update an existing task. Only provided fields are modified; omitted fields remain unchanged.

**Default enabled:** Yes

<ParamField body="id" type="String" required>
  The task ID to update.
</ParamField>

<ParamField body="subject" type="String" default="unchanged">
  New subject/title.
</ParamField>

<ParamField body="description" type="String" default="unchanged">
  New description.
</ParamField>

<ParamField body="status" type="String" default="unchanged">
  New status: `"pending"`, `"in_progress"`, or `"completed"`.
</ParamField>

<ParamField body="priority" type="String" default="unchanged">
  New priority: `"low"`, `"medium"`, or `"high"`.
</ParamField>

<ParamField body="labels" type="String[]" default="unchanged">
  Replace all labels.
</ParamField>

<ParamField body="owner" type="String" default="unchanged">
  New owner/assignee.
</ParamField>

<ParamField body="metadata" type="Object" default="unchanged">
  Merge metadata (set key to `null` to remove).
</ParamField>

<ParamField body="add_blocks" type="String[]" default="[]">
  Task IDs to add to the `blocks` list.
</ParamField>

<ParamField body="remove_blocks" type="String[]" default="[]">
  Task IDs to remove from the `blocks` list.
</ParamField>

<ParamField body="add_blocked_by" type="String[]" default="[]">
  Task IDs to add to the `blocked_by` list.
</ParamField>

<ParamField body="remove_blocked_by" type="String[]" default="[]">
  Task IDs to remove from the `blocked_by` list.
</ParamField>

**Returns:** The updated `Task` object.

**Error:** `ExecutionFailed` if the task ID is not found.

**Source:** `meerkat-tools/src/builtin/tasks/task_update.rs`
</Accordion>

## Shell tools

Shell tools execute commands and manage background jobs. They are all `default_enabled: false` and require the factory-level `enable_shell` flag (or a `ToolPolicyLayer` override) to be active.

<Accordion title="Shell configuration">
Shell behavior is controlled by `ShellConfig`:

| Config Field | Type | Default | Description |
|-------------|------|---------|-------------|
| `enabled` | `bool` | `false` | Master switch for shell tools |
| `default_timeout_secs` | `u64` | `30` | Default command timeout |
| `restrict_to_project` | `bool` | `true` | Restrict working dirs to project root |
| `shell` | `String` | `"nu"` | Shell binary name (Nushell by default; falls back to bash/zsh/sh) |
| `shell_path` | `PathBuf?` | `None` | Explicit shell binary path |
| `project_root` | `PathBuf` | CWD | Project root for path restriction |
| `max_completed_jobs` | `usize` | `100` | Maximum completed jobs retained |
| `completed_job_ttl_secs` | `u64` | `300` | TTL for completed job records (seconds) |
| `max_concurrent_processes` | `usize` | `10` | Maximum concurrent background processes |
| `security_mode` | `SecurityMode` | `Unrestricted` | Command security policy |
| `security_patterns` | `Vec<String>` | `[]` | Glob patterns for allow/deny lists |

**Source:** `meerkat-tools/src/builtin/shell/config.rs`
</Accordion>

<Accordion title="Shell security modes">
The `SecurityEngine` validates commands before execution using POSIX-compliant word splitting (`shlex`) and glob pattern matching (`globset`).

| Mode | Behavior |
|------|----------|
| `Unrestricted` | All commands allowed (default) |
| `AllowList` | Only commands matching `security_patterns` globs are allowed |
| `DenyList` | Commands matching `security_patterns` globs are rejected |

Patterns are matched against the canonicalized command invocation. The engine parses the full command string into individual words, then validates the executable (first word) and the full command string against the pattern set.

**Source:** `meerkat-tools/src/builtin/shell/security.rs`
</Accordion>

<Accordion title="shell">
Execute a shell command. Uses POSIX-style parsing for policy checks; runs via Nushell or fallback shell.

**Default enabled:** No (requires shell to be enabled)

<ParamField body="command" type="String" required>
  The command to execute (POSIX-style parsing for policy checks).
</ParamField>

<ParamField body="working_dir" type="String" default="Project root">
  Working directory (relative to project root).
</ParamField>

<ParamField body="timeout_secs" type="u64" default="Config default (30)">
  Timeout in seconds.
</ParamField>

<ParamField body="background" type="bool" default="false">
  If `true`, run in background and return job ID immediately.
</ParamField>

<CodeGroup>
```json Returns (foreground)
{
  "exit_code": 0,
  "stdout": "...",
  "stderr": "...",
  "timed_out": false,
  "duration_secs": 1.23
}
```

```json Returns (background)
{
  "job_id": "job_<uuid-v7>",
  "status": "running",
  "message": "Background job started"
}
```
</CodeGroup>

<Note>
Output is truncated to the last 100,000 characters if it exceeds that limit. Fields `stdout_lossy` and `stderr_lossy` indicate whether output was lossy-decoded from non-UTF-8 bytes.
</Note>

**Source:** `meerkat-tools/src/builtin/shell/tool.rs`
</Accordion>

<Accordion title="shell_jobs">
List all background shell jobs.

**Default enabled:** No (requires shell to be enabled)

**Parameters:** None (empty object).

```json
[
  {
    "id": "job_<uuid-v7>",
    "command": "echo hello",
    "status": "running",
    "started_at_unix": 1700000000
  }
]
```

The `status` field is one of: `"running"`, `"completed"`, `"failed"`, `"timed_out"`, `"cancelled"`.

**Source:** `meerkat-tools/src/builtin/shell/jobs_list_tool.rs`
</Accordion>

<Accordion title="shell_job_status">
Check status of a background shell job. Returns full job details including output when complete.

**Default enabled:** No (requires shell to be enabled)

<ParamField body="job_id" type="String" required>
  The job ID to check.
</ParamField>

```json
{
  "id": "job_<uuid-v7>",
  "command": "echo test",
  "working_dir": "/path/to/project",
  "timeout_secs": 30,
  "started_at_unix": 1700000000,
  "status": "completed"
}
```

**Error:** `ExecutionFailed` if the job ID is not found.

**Source:** `meerkat-tools/src/builtin/shell/job_status_tool.rs`
</Accordion>

<Accordion title="shell_job_cancel">
Cancel a running background shell job.

**Default enabled:** No (requires shell to be enabled)

<ParamField body="job_id" type="String" required>
  The job ID to cancel.
</ParamField>

```json
{
  "job_id": "job_<uuid-v7>",
  "status": "cancelled"
}
```

**Error:** `ExecutionFailed` if the job ID is not found.

**Source:** `meerkat-tools/src/builtin/shell/job_cancel_tool.rs`
</Accordion>

<Accordion title="Shell types">
**JobId format:** `"job_"` followed by a UUID v7 string.

**JobStatus variants:** `Running`, `Completed`, `Failed`, `TimedOut`, `Cancelled` (serialized as lowercase snake_case strings).

**Source:** `meerkat-tools/src/builtin/shell/types.rs`
</Accordion>

## Sub-agent tools

Sub-agent tools allow spawning, forking, monitoring, and cancelling child agents. They are all `default_enabled: false` and require both the `sub-agents` Cargo feature and the factory-level `enable_subagents` flag.

<Accordion title="Shared types">
**ToolAccessInput** (tagged union, `"policy"` discriminator):

| Variant | Fields | Description |
|---------|--------|-------------|
| `inherit` | -- | Inherit all tools from parent |
| `allow_list` | `tools: String[]` | Only allow the listed tools |
| `deny_list` | `tools: String[]` | Block the listed tools |

Example: `{"policy": "allow_list", "tools": ["shell", "task_list"]}`

**BudgetInput** (used in `agent_spawn`):

| Field | Type | Required | Description |
|-------|------|----------|-------------|
| `max_tokens` | `u64` | No | Maximum tokens for the sub-agent |
| `max_turns` | `u32` | No | Maximum turns for the sub-agent |
| `max_tool_calls` | `u32` | No | Maximum tool calls for the sub-agent |
</Accordion>

<Accordion title="agent_spawn">
Spawn a new sub-agent with clean context. The sub-agent starts fresh with only the provided prompt.

**Default enabled:** No (requires `sub-agents` feature + subagents enabled)

<ParamField body="prompt" type="String" required>
  Initial prompt/task for the sub-agent.
</ParamField>

<ParamField body="provider" type="String" default="Parent's provider">
  LLM provider: `"anthropic"`, `"openai"`, or `"gemini"`.
</ParamField>

<ParamField body="model" type="String" default="Provider's default">
  Model name (provider-specific).
</ParamField>

<ParamField body="tool_access" type="ToolAccessInput" default="inherit">
  Tool access policy (see shared types).
</ParamField>

<ParamField body="budget" type="BudgetInput" default="Inherited">
  Budget limits (see shared types).
</ParamField>

<ParamField body="system_prompt" type="String" default="null">
  Override system prompt for the sub-agent.
</ParamField>

<ParamField body="host_mode" type="bool" default="false">
  Agent stays alive processing comms after initial prompt (only with `comms` feature).
</ParamField>

<Note>
The `host_mode` parameter is only present when the `comms` feature is enabled. Without `comms`, `SpawnParamsNoComms` is used which omits this field.
</Note>

```json
{
  "agent_id": "<uuid>",
  "name": "agent-<name>",
  "provider": "anthropic",
  "model": "claude-sonnet-4-5",
  "state": "running",
  "message": "Sub-agent spawned successfully"
}
```

When `comms` is enabled and `host_mode` is active, additional `comms` field is included with connection details.

**Source:** `meerkat-tools/src/builtin/sub_agent/spawn.rs`
</Accordion>

<Accordion title="agent_fork">
Fork the current agent with continued context. The forked agent inherits the parent's conversation history.

**Default enabled:** No (requires `sub-agents` feature + subagents enabled)

<ParamField body="prompt" type="String" required>
  Additional prompt/instruction appended to inherited conversation history.
</ParamField>

<ParamField body="provider" type="String" default="Parent's provider">
  `"anthropic"`, `"openai"`, or `"gemini"`.
</ParamField>

<ParamField body="model" type="String" default="Provider's default">
  Model name (provider-specific).
</ParamField>

<ParamField body="tool_access" type="ToolAccessInput" default="inherit">
  Tool access policy (see shared types).
</ParamField>

<ParamField body="budget_policy" type="String" default="null">
  Budget allocation: `"equal"`, `"remaining"`, `"proportional"`, or `"fixed:N"`.
</ParamField>

```json
{
  "agent_id": "<uuid>",
  "name": "fork-<name>",
  "provider": "anthropic",
  "model": "claude-sonnet-4-5",
  "state": "running",
  "messages_inherited": 12,
  "message": "Agent forked successfully"
}
```

**Source:** `meerkat-tools/src/builtin/sub_agent/fork.rs`
</Accordion>

<Accordion title="agent_status">
Get status and output of a sub-agent by ID. Use this to poll for completion.

**Default enabled:** No (requires `sub-agents` feature + subagents enabled)

<ParamField body="agent_id" type="String" required>
  UUID of the sub-agent.
</ParamField>

```json
{
  "agent_id": "<uuid>",
  "state": "completed",
  "output": "The agent's final text output",
  "is_final": true,
  "duration_ms": 5432,
  "tokens_used": 1500
}
```

When the agent is still running, `is_final` is `false` and `output`/`duration_ms`/`tokens_used` may be absent. If the agent failed, an `error` field is present instead of `output`.

**Source:** `meerkat-tools/src/builtin/sub_agent/status.rs`
</Accordion>

<Accordion title="agent_cancel">
Cancel a running sub-agent.

**Default enabled:** No (requires `sub-agents` feature + subagents enabled)

<ParamField body="agent_id" type="String" required>
  UUID of the sub-agent to cancel.
</ParamField>

```json
{
  "agent_id": "<uuid>",
  "success": true,
  "previous_state": "running",
  "message": "Agent cancelled"
}
```

**Source:** `meerkat-tools/src/builtin/sub_agent/cancel.rs`
</Accordion>

<Accordion title="agent_list">
List all sub-agents spawned by this agent.

**Default enabled:** No (requires `sub-agents` feature + subagents enabled)

**Parameters:** None (empty object).

```json
{
  "agents": [
    {
      "id": "<uuid>",
      "name": "agent-<name>",
      "state": "running",
      "depth": 1,
      "running_ms": 3200
    }
  ],
  "running_count": 1,
  "completed_count": 0,
  "failed_count": 0,
  "total_count": 1
}
```

**Source:** `meerkat-tools/src/builtin/sub_agent/list.rs`
</Accordion>

## Memory tool

The memory search tool lives in the `meerkat-memory` crate and is composed into the tool dispatcher as a separate `MemorySearchDispatcher` (implementing `AgentToolDispatcher`). It is NOT part of `CompositeDispatcher` -- it is wired via `ToolGateway` when the `memory-store-session` feature is enabled and `enable_memory` is `true`.

<Accordion title="memory_search">
Search semantic memory for past conversation content. Memory contains text from earlier conversation turns that were compacted away to save context space.

<ParamField body="query" type="String" required>
  Natural language search query describing what you want to recall.
</ParamField>

<ParamField body="limit" type="usize" default="5">
  Maximum number of results to return (max: 20).
</ParamField>

The `limit` is capped at 20 regardless of the requested value.

```json
[
  {
    "content": "The project codename is AURORA-7",
    "score": 0.87,
    "session_id": "<uuid>",
    "turn": 3
  }
]
```

Returns an empty array if no matches are found.

**Source:** `meerkat-memory/src/tool.rs`
</Accordion>

## Utility tools

Utility tools are general-purpose helpers enabled by default when builtins are on.

<Accordion title="wait">
Pause execution for the specified number of seconds. Supports fractional seconds. Useful for polling loops or rate limiting.

**Default enabled:** Yes

<ParamField body="seconds" type="f64" required>
  Duration to wait (range: 0.1 to 300.0).
</ParamField>

Maximum wait time is 300 seconds (5 minutes). Values below 0.1 or above 300.0 are rejected.

<CodeGroup>
```json Returns (completed)
{
  "waited_seconds": 5.0,
  "status": "complete"
}
```

```json Returns (interrupted)
{
  "waited_seconds": 2.3,
  "requested_seconds": 5.0,
  "status": "interrupted",
  "reason": "cancellation signal received"
}
```
</CodeGroup>

**Source:** `meerkat-tools/src/builtin/utility/wait.rs`
</Accordion>

<Accordion title="datetime">
Get the current date and time. Returns ISO 8601 formatted datetime and Unix timestamp.

**Default enabled:** Yes

**Parameters:** None (empty object).

```json
{
  "iso8601": "2025-01-15T14:30:00+01:00",
  "date": "2025-01-15",
  "time": "14:30:00",
  "timezone": "+01:00",
  "unix_timestamp": 1736949000,
  "year": 2025,
  "month": 1,
  "day": 15,
  "weekday": "Wednesday"
}
```

**Source:** `meerkat-tools/src/builtin/utility/datetime.rs`
</Accordion>

## Comms tools

Comms tools enable inter-agent communication. They require the `comms` Cargo feature (`dep:meerkat-comms`) and the factory-level `enable_comms` flag. Unlike other tool categories, comms tools are provided as a separate `CommsToolSurface` dispatcher (implementing `AgentToolDispatcher`) and composed via `ToolGateway`, NOT bundled into `CompositeDispatcher`.

Comms tools are only shown to the agent when at least one peer is discoverable
(controlled by `CommsToolSurface::peer_availability()`). The check passes when
either `TrustedPeers` has entries or `InprocRegistry` has a peer other than
self.

Tool definitions (name, description, input schema) are dynamically loaded from `meerkat_comms::tools_list()`.

<Accordion title="send">
Send a message, request, or response to a trusted peer. The `kind` parameter determines the message type.

**Default enabled:** Yes (when comms is active)

<ParamField body="to" type="String" required>
  Peer name to send to.
</ParamField>

<ParamField body="kind" type="String" required>
  Message kind: `"peer_message"`, `"peer_request"`, or `"peer_response"`.
</ParamField>

<ParamField body="body" type="String">
  Message content (required when `kind="peer_message"`).
</ParamField>

<ParamField body="intent" type="String">
  Request intent/action identifier (required when `kind="peer_request"`).
</ParamField>

<ParamField body="params" type="any" default="null">
  Request parameters (for `kind="peer_request"`).
</ParamField>

<ParamField body="in_reply_to" type="String (UUID)">
  ID of the request being responded to (required when `kind="peer_response"`).
</ParamField>

<ParamField body="status" type="String">
  Response status: `"accepted"`, `"completed"`, or `"failed"` (required when `kind="peer_response"`).
</ParamField>

<ParamField body="result" type="any" default="null">
  Response result data (for `kind="peer_response"`).
</ParamField>

```json
{
  "status": "sent"
}
```

**Source:** `meerkat-comms/src/mcp/tools.rs` -- `SendInput`
</Accordion>

<Accordion title="peers">
List all discoverable peers and their connection status.

Returns the union of:
- configured trusted peers (`TrustedPeers`)
- in-process peers currently registered in `InprocRegistry`

Peers are de-duplicated by name and the current agent ("self") is excluded.

**Default enabled:** Yes (when comms is active)

**Parameters:** None (empty object).

```json
{
  "peers": [
    {
      "name": "agent-beta",
      "peer_id": "<derived-peer-id>",
      "address": "tcp://127.0.0.1:4200"
    }
  ]
}
```

**Source:** `meerkat-comms/src/mcp/tools.rs` -- `PeersInput`
</Accordion>

## Cargo feature gates

Tool availability depends on compile-time features in the `meerkat-tools` crate:

| Feature | Default | Dependencies | Tools unlocked |
|---------|---------|-------------|----------------|
| `sub-agents` | Yes | `dep:meerkat-client` | `agent_spawn`, `agent_fork`, `agent_status`, `agent_cancel`, `agent_list` |
| `comms` | Yes | `dep:meerkat-comms` | `send`, `peers` |
| `mcp` | Yes | `dep:meerkat-mcp` | External MCP tool routing (not builtin tools) |

The `memory_search` tool is gated by the `memory-store-session` feature on the `meerkat` facade crate (not `meerkat-tools`), since `MemorySearchDispatcher` lives in `meerkat-memory`.

**Source:** `meerkat-tools/Cargo.toml`
