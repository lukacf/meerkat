---
title: "CLI commands"
description: "Command reference for rkat with realm-first runtime scoping."
icon: "terminal"
---

`rkat` is realm-first. All commands accept global scope flags:

```bash
rkat [--realm <id>] [--instance <id>] [--realm-backend <redb|jsonl>] <command> ...
```

## Common commands

| Command | Purpose |
|---------|---------|
| `init` | Initialize local project compatibility config (`.rkat/config.toml`) |
| `run` | Create and run a session |
| `resume` | Continue an existing session |
| `sessions list/show/delete` | Inspect or remove sessions in active realm |
| `config get/set/patch` | Read or mutate realm config |
| `rpc` | Start JSON-RPC stdio server |
| `mcp ...` | Manage MCP server config |
| `capabilities` | Show resolved runtime capabilities |

## Realm behavior by command

| Command surface | Default without `--realm` |
|----------------|----------------------------|
| `run`, `resume`, `sessions ...` | Workspace-derived stable realm (`ws-...`) |
| `rpc` | New opaque realm (`realm-...`) |

To share state between CLI and RPC, use the same explicit realm:

```bash
rkat --realm team-alpha run "Plan release"
rkat --realm team-alpha sessions list
rkat --realm team-alpha rpc
```

## run

```bash
rkat run [OPTIONS] <PROMPT>
```

Frequently used options:

- `--model <MODEL>`
- `--provider <anthropic|openai|gemini>`
- `--stream`
- `--output <text|json>`
- `--max-tokens <N>`
- `--max-total-tokens <N>`
- `--max-duration <DURATION>`
- `--max-tool-calls <N>`
- `--enable-builtins`
- `--enable-shell` (requires `--enable-builtins`)
- `--no-subagents`
- `--hooks-override-json <JSON>`
- `--hooks-override-file <FILE>`

Comms options:

- `--comms-name <NAME>`
- `--comms-listen-tcp <ADDR>`
- `--no-comms`
- `--host`
- `--stdin`

## resume

```bash
rkat resume <SESSION_ID> <PROMPT>
```

Resumes a session from the active realm.

## sessions

```bash
rkat sessions list [--limit N]
rkat sessions show <ID>
rkat sessions delete <ID>
```

These commands read/write through the same session service path used by `run` and `resume`.

## config

```bash
rkat config get [--format toml|json]
rkat config set --file config.toml
rkat config set --json '{"agent":{"model":"gpt-5.2"}}'
rkat config patch --json '{"budget":{"max_tokens":50000}}'
```

Config operations are realm-scoped.

## rpc

```bash
rkat rpc
```

Starts JSON-RPC 2.0 over stdio.

Pass `--realm` when you want deterministic shared state with other surfaces or processes:

```bash
rkat --realm team-alpha rpc
```

## mcp

```bash
rkat mcp add <NAME> -- <COMMAND> [ARGS...]
rkat mcp add <NAME> --url <URL>
rkat mcp list [--scope user|project] [--json]
rkat mcp get <NAME> [--scope user|project] [--json]
rkat mcp remove <NAME> [--scope user|project]
```

MCP config is stored in `.rkat/mcp.toml` (project) and `~/.rkat/mcp.toml` (user).

## capabilities

```bash
rkat capabilities
```

Shows status per capability (`Available`, `DisabledByPolicy`, `NotCompiled`, `NotSupportedByProtocol`).

## See also

- [Realms](/concepts/realms)
- [CLI configuration](/cli/configuration)
- [JSON-RPC](/api/rpc)
