    Checking meerkat-comms v0.1.0 (/Users/luka/src/raik/meerkat-comms)
    Checking meerkat-core v0.1.0 (/Users/luka/src/raik/meerkat-core)
    Checking meerkat-comms-mcp v0.1.0 (/Users/luka/src/raik/meerkat-comms-mcp)
error: used `unwrap()` on an `Option` value
   --> meerkat-comms-mcp/src/tools.rs:303:58
    |
303 |         let tool_names: Vec<&str> = tools.iter().map(|t| t["name"].as_str().unwrap()).collect();
    |                                                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used
    = note: requested on the command line with `-D clippy::unwrap-used`

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:331:39
    |
331 |         let input: SendMessageInput = serde_json::from_value(input_json).unwrap();
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:344:39
    |
344 |         let input: SendRequestInput = serde_json::from_value(input_json).unwrap();
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:359:40
    |
359 |         let input: SendResponseInput = serde_json::from_value(input_json).unwrap();
    |                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:368:38
    |
368 |         let _input: ListPeersInput = serde_json::from_value(input_json).unwrap();
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:373:19
    |
373 |         let tmp = TempDir::new().unwrap();
    |                   ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:389:24
    |
389 |         let listener = tokio::net::UnixListener::bind(&sock_path).unwrap();
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:394:35
    |
394 |             let (mut stream, _) = listener.accept().await.unwrap();
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:398:13
    |
398 |             stream.read_exact(&mut len_bytes).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:401:13
    |
401 |             stream.read_exact(&mut payload).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:402:38
    |
402 |             let envelope: Envelope = ciborium::from_reader(&payload[..]).unwrap();
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:417:13
    |
417 |             ciborium::into_writer(&ack, &mut ack_payload).unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:419:13
    |
419 |             stream.write_all(&ack_len.to_be_bytes()).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:420:13
    |
420 |             stream.write_all(&ack_payload).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:421:13
    |
421 |             stream.flush().await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:435:22
    |
435 |         let output = result.unwrap();
    |                      ^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:438:9
    |
438 |         server_handle.await.unwrap();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:443:19
    |
443 |         let tmp = TempDir::new().unwrap();
    |                   ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:459:24
    |
459 |         let listener = tokio::net::UnixListener::bind(&sock_path).unwrap();
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:464:35
    |
464 |             let (mut stream, _) = listener.accept().await.unwrap();
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:468:13
    |
468 |             stream.read_exact(&mut len_bytes).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:471:13
    |
471 |             stream.read_exact(&mut payload).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:472:38
    |
472 |             let envelope: Envelope = ciborium::from_reader(&payload[..]).unwrap();
    |                                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:487:13
    |
487 |             ciborium::into_writer(&ack, &mut ack_payload).unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:489:13
    |
489 |             stream.write_all(&ack_len.to_be_bytes()).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:490:13
    |
490 |             stream.write_all(&ack_payload).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:491:13
    |
491 |             stream.flush().await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:506:22
    |
506 |         let output = result.unwrap();
    |                      ^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:509:9
    |
509 |         server_handle.await.unwrap();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:514:19
    |
514 |         let tmp = TempDir::new().unwrap();
    |                   ^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:529:24
    |
529 |         let listener = tokio::net::UnixListener::bind(&sock_path).unwrap();
    |                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:534:35
    |
534 |             let (mut stream, _) = listener.accept().await.unwrap();
    |                                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:538:13
    |
538 |             stream.read_exact(&mut len_bytes).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:541:13
    |
541 |             stream.read_exact(&mut payload).await.unwrap();
    |             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:542:39
    |
542 |             let _envelope: Envelope = ciborium::from_reader(&payload[..]).unwrap();
    |                                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:560:22
    |
560 |         let output = result.unwrap();
    |                      ^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:563:9
    |
563 |         server_handle.await.unwrap();
    |         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: argument never used
  --> meerkat-core/src/types/tests.rs:17:42
   |
17 |     assert_eq!(json, format!("\"{{}}\"", id_str));
   |                              ----------  ^^^^^^ argument never used
   |                              |
   |                              formatting specifier missing

error: used `unwrap()` on a `Result` value
   --> meerkat-comms-mcp/src/tools.rs:592:22
    |
592 |         let output = result.unwrap();
    |                      ^^^^^^^^^^^^^^^
    |
    = note: if this value is an `Err`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> meerkat-comms-mcp/src/tools.rs:593:21
    |
593 |         let peers = output["peers"].as_array().unwrap();
    |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> meerkat-comms-mcp/src/tools.rs:598:17
    |
598 |         assert!(peers[0]["pubkey"].as_str().unwrap().starts_with("ed25519:"));
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: used `unwrap()` on an `Option` value
   --> meerkat-comms-mcp/src/tools.rs:602:17
    |
602 |         assert!(peers[1]["pubkey"].as_str().unwrap().starts_with("ed25519:"));
    |                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |
    = note: if this value is `None`, it will panic
    = help: for further information visit https://rust-lang.github.io/rust-clippy/master/index.html#unwrap_used

error: could not compile `meerkat-comms-mcp` (lib test) due to 41 previous errors
warning: build failed, waiting for other jobs to finish...
error[E0599]: no function or associated item named `error` found for struct `types::ToolResult` in the current scope
   --> meerkat-core/src/types/tests.rs:134:36
    |
134 |     let error_result = ToolResult::error(&tool_call, "failed");
    |                                    ^^^^^ function or associated item not found in `types::ToolResult`
    |
   ::: meerkat-core/src/types.rs:131:1
    |
131 | pub struct ToolResult {
    | --------------------- function or associated item `error` not found for this struct
    |
note: if you're trying to build a new `types::ToolResult` consider using one of the following associated functions:
      types::ToolResult::new
      types::ToolResult::with_thought_signature
      types::ToolResult::from_tool_call
   --> meerkat-core/src/types.rs:146:5
    |
146 |       pub fn new(tool_use_id: String, content: String, is_error: bool) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
156 | /     pub fn with_thought_signature(
157 | |         tool_use_id: String,
158 | |         content: String,
159 | |         is_error: bool,
160 | |         thought_signature: String,
161 | |     ) -> Self {
    | |_____________^
...
171 |       pub fn from_tool_call(tool_call: &ToolCall, content: String, is_error: bool) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0599]: no function or associated item named `success` found for struct `types::ToolResult` in the current scope
   --> meerkat-core/src/types/tests.rs:140:30
    |
140 |     let result = ToolResult::success(&tool_call, json!("ok"));
    |                              ^^^^^^^ function or associated item not found in `types::ToolResult`
    |
   ::: meerkat-core/src/types.rs:131:1
    |
131 | pub struct ToolResult {
    | --------------------- function or associated item `success` not found for this struct
    |
note: if you're trying to build a new `types::ToolResult` consider using one of the following associated functions:
      types::ToolResult::new
      types::ToolResult::with_thought_signature
      types::ToolResult::from_tool_call
   --> meerkat-core/src/types.rs:146:5
    |
146 |       pub fn new(tool_use_id: String, content: String, is_error: bool) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
...
156 | /     pub fn with_thought_signature(
157 | |         tool_use_id: String,
158 | |         content: String,
159 | |         is_error: bool,
160 | |         thought_signature: String,
161 | |     ) -> Self {
    | |_____________^
...
171 |       pub fn from_tool_call(tool_call: &ToolCall, content: String, is_error: bool) -> Self {
    |       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

error[E0063]: missing fields `session_id`, `size_bytes` and `version` in initializer of `types::ArtifactRef`
   --> meerkat-core/src/types/tests.rs:232:20
    |
232 |     let artifact = ArtifactRef {
    |                    ^^^^^^^^^^^ missing `session_id`, `size_bytes` and `version`

error[E0063]: missing fields `session_id`, `size_bytes` and `version` in initializer of `types::ArtifactRef`
   --> meerkat-core/src/types/tests.rs:243:21
    |
243 |     let permanent = ArtifactRef {
    |                     ^^^^^^^^^^^ missing `session_id`, `size_bytes` and `version`

error[E0282]: type annotations needed for `std::vec::Vec<_>`
   --> meerkat-core/src/types/tests.rs:256:9
    |
256 |     let messages = vec![];
    |         ^^^^^^^^
257 |     let json = serde_json::to_string(&messages)?;
    |                                      --------- type must be known at this point
    |
help: consider giving `messages` an explicit type, where the placeholders `_` are specified
    |
256 |     let messages: std::vec::Vec<_> = vec![];
    |                 ++++++++++++++++++

Some errors have detailed explanations: E0063, E0282, E0599.
For more information about an error, try `rustc --explain E0063`.
error: could not compile `meerkat-core` (lib test) due to 6 previous errors
