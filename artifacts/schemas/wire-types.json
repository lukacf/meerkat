{
  "ContractVersion": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Semantic version for the Meerkat wire contract.\n\nStart at 0.1.0 â€” allow breaking changes during Phase 1-3 development.\nBump to 1.0.0 when the SDK Builder ships (Phase 5) and external\nconsumers exist. Before 1.0.0, minor bumps can be breaking.",
    "properties": {
      "major": {
        "format": "uint32",
        "minimum": 0,
        "type": "integer"
      },
      "minor": {
        "format": "uint32",
        "minimum": 0,
        "type": "integer"
      },
      "patch": {
        "format": "uint32",
        "minimum": 0,
        "type": "integer"
      }
    },
    "required": [
      "major",
      "minor",
      "patch"
    ],
    "title": "ContractVersion",
    "type": "object"
  },
  "McpLiveOpResponse": {
    "$defs": {
      "McpLiveOpStatus": {
        "description": "Shared status for live MCP operations.",
        "enum": [
          "staged",
          "applied",
          "rejected"
        ],
        "type": "string"
      },
      "McpLiveOperation": {
        "description": "Shared operation kind for live MCP operations.",
        "enum": [
          "add",
          "remove",
          "reload"
        ],
        "type": "string"
      }
    },
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Response payload for live MCP operations.",
    "properties": {
      "applied_at_turn": {
        "format": "uint32",
        "minimum": 0,
        "type": [
          "integer",
          "null"
        ]
      },
      "operation": {
        "$ref": "#/$defs/McpLiveOperation"
      },
      "persisted": {
        "type": "boolean"
      },
      "server_name": {
        "type": [
          "string",
          "null"
        ]
      },
      "session_id": {
        "type": "string"
      },
      "status": {
        "$ref": "#/$defs/McpLiveOpStatus"
      }
    },
    "required": [
      "session_id",
      "operation",
      "status",
      "persisted"
    ],
    "title": "McpLiveOpResponse",
    "type": "object"
  },
  "McpLiveOpStatus": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Shared status for live MCP operations.",
    "enum": [
      "staged",
      "applied",
      "rejected"
    ],
    "title": "McpLiveOpStatus",
    "type": "string"
  },
  "McpLiveOperation": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Shared operation kind for live MCP operations.",
    "enum": [
      "add",
      "remove",
      "reload"
    ],
    "title": "McpLiveOperation",
    "type": "string"
  },
  "WireSessionInfo": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Canonical session info for wire protocol.",
    "properties": {
      "created_at": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      },
      "is_active": {
        "type": "boolean"
      },
      "labels": {
        "additionalProperties": {
          "type": "string"
        },
        "type": "object"
      },
      "last_assistant_text": {
        "type": [
          "string",
          "null"
        ]
      },
      "message_count": {
        "format": "uint",
        "minimum": 0,
        "type": "integer"
      },
      "session_id": {
        "type": "string"
      },
      "session_ref": {
        "type": [
          "string",
          "null"
        ]
      },
      "updated_at": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      }
    },
    "required": [
      "session_id",
      "created_at",
      "updated_at",
      "message_count",
      "is_active"
    ],
    "title": "WireSessionInfo",
    "type": "object"
  },
  "WireSessionSummary": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Canonical session summary for wire protocol.",
    "properties": {
      "created_at": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      },
      "is_active": {
        "type": "boolean"
      },
      "labels": {
        "additionalProperties": {
          "type": "string"
        },
        "type": "object"
      },
      "message_count": {
        "format": "uint",
        "minimum": 0,
        "type": "integer"
      },
      "session_id": {
        "type": "string"
      },
      "session_ref": {
        "type": [
          "string",
          "null"
        ]
      },
      "total_tokens": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      },
      "updated_at": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      }
    },
    "required": [
      "session_id",
      "created_at",
      "updated_at",
      "message_count",
      "total_tokens",
      "is_active"
    ],
    "title": "WireSessionSummary",
    "type": "object"
  },
  "WireUsage": {
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "description": "Canonical token usage for wire protocol.",
    "properties": {
      "cache_creation_tokens": {
        "format": "uint64",
        "minimum": 0,
        "type": [
          "integer",
          "null"
        ]
      },
      "cache_read_tokens": {
        "format": "uint64",
        "minimum": 0,
        "type": [
          "integer",
          "null"
        ]
      },
      "input_tokens": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      },
      "output_tokens": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      },
      "total_tokens": {
        "format": "uint64",
        "minimum": 0,
        "type": "integer"
      }
    },
    "required": [
      "input_tokens",
      "output_tokens",
      "total_tokens"
    ],
    "title": "WireUsage",
    "type": "object"
  }
}