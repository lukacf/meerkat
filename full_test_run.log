   Compiling meerkat-core v0.1.0 (/Users/luka/src/raik/meerkat-core)
warning: unused import: `BudgetLimits`
  --> meerkat-core/src/agent.rs:10:29
   |
10 | use crate::budget::{Budget, BudgetLimits};
   |                             ^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: unused import: `crate::comms_config::CoreCommsConfig`
  --> meerkat-core/src/agent.rs:11:5
   |
11 | use crate::comms_config::CoreCommsConfig;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: unused import: `ConcurrencyLimits`
  --> meerkat-core/src/agent.rs:17:5
   |
17 |     ConcurrencyLimits, ForkBranch, ForkBudgetPolicy, OperationId, OperationResult, SpawnSpec,
   |     ^^^^^^^^^^^^^^^^^

warning: unused import: `crate::prompt::SystemPromptConfig`
  --> meerkat-core/src/agent.rs:20:5
   |
20 | use crate::prompt::SystemPromptConfig;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

warning: trait `AgentRunner` is never used
  --> meerkat-core/src/agent/runner.rs:11:11
   |
11 | pub trait AgentRunner: Send {
   |           ^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

   Compiling meerkat-client v0.1.0 (/Users/luka/src/raik/meerkat-client)
   Compiling meerkat-mcp-client v0.1.0 (/Users/luka/src/raik/meerkat-mcp-client)
   Compiling meerkat-store v0.1.0 (/Users/luka/src/raik/meerkat-store)
warning: `meerkat-core` (lib) generated 5 warnings (run `cargo fix --lib -p meerkat-core` to apply 4 suggestions)
warning: unused import: `crate::comms_config::CoreCommsConfig`
  --> meerkat-core/src/agent.rs:11:5
   |
11 | use crate::comms_config::CoreCommsConfig;
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
   |
   = note: `#[warn(unused_imports)]` on by default

warning: field `arg1` is never read
   --> meerkat-core/src/types/tests.rs:277:9
    |
276 |     struct TestToolDefInput {
    |            ---------------- field in this struct
277 |         arg1: String,
    |         ^^^^

warning: `meerkat-core` (lib test) generated 5 warnings (3 duplicates) (run `cargo fix --lib -p meerkat-core --tests` to apply 1 suggestion)
warning: field `city` is never read
  --> meerkat-client/tests/e2e.rs:33:5
   |
32 | struct WeatherArgs {
   |        ----------- field in this struct
33 |     city: String,
   |     ^^^^
   |
   = note: `WeatherArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` on by default

warning: struct `McpProtocol` is never constructed
  --> meerkat-mcp-client/src/protocol.rs:16:12
   |
16 | pub struct McpProtocol {
   |            ^^^^^^^^^^^
   |
   = note: `#[warn(dead_code)]` on by default

warning: associated items `new`, `server_info`, `list_tools`, `call_tool_text`, and `close` are never used
  --> meerkat-mcp-client/src/protocol.rs:21:12
   |
20 | impl McpProtocol {
   | ---------------- associated items in this implementation
21 |     pub fn new(service: RunningService<RoleClient, ()>) -> Self {
   |            ^^^
...
25 |     pub fn server_info(&self) -> Option<&rmcp::model::ServerInfo> {
   |            ^^^^^^^^^^^
...
29 |     pub async fn list_tools(&self) -> Result<Vec<ToolDef>, McpError> {
   |                  ^^^^^^^^^^
...
57 |     pub async fn call_tool_text(&self, name: &str, args: &Value) -> Result<String, McpError> {
   |                  ^^^^^^^^^^^^^^
...
86 |     pub async fn close(self) -> Result<(), McpError> {
   |                  ^^^^^

warning: `meerkat-client` (test "e2e") generated 1 warning
warning: `meerkat-mcp-client` (lib test) generated 2 warnings
warning: function `extract_text_content_strict` is never used
  --> meerkat-mcp-client/src/protocol.rs:97:4
   |
97 | fn extract_text_content_strict(contents: Vec<Content>) -> Result<String, String> {
   |    ^^^^^^^^^^^^^^^^^^^^^^^^^^^

   Compiling meerkat-tools v0.1.0 (/Users/luka/src/raik/meerkat-tools)
warning: `meerkat-mcp-client` (lib) generated 3 warnings (2 duplicates)
   Compiling meerkat-agent v0.1.0 (/Users/luka/src/raik/meerkat-agent)
   Compiling meerkat-comms-agent v0.1.0 (/Users/luka/src/raik/meerkat-comms-agent)
warning: field `message` is never read
   --> meerkat-tools/src/dispatcher.rs:223:9
    |
222 |     struct TestToolInput {
    |            ------------- field in this struct
223 |         message: Option<String>,
    |         ^^^^^^^
    |
    = note: `TestToolInput` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
    = note: `#[warn(dead_code)]` on by default

warning: field `count` is never read
   --> meerkat-tools/src/dispatcher.rs:228:9
    |
227 |     struct CountToolInput {
    |            -------------- field in this struct
228 |         count: i64,
    |         ^^^^^
    |
    = note: `CountToolInput` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `name` and `count` are never read
  --> meerkat-tools/src/registry.rs:90:9
   |
89 |     struct NameCountInput {
   |            -------------- fields in this struct
90 |         name: String,
   |         ^^^^
91 |         count: Option<i64>,
   |         ^^^^^
   |
   = note: `NameCountInput` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `name` is never read
  --> meerkat-tools/src/registry.rs:96:9
   |
95 |     struct NameInput {
   |            --------- field in this struct
96 |         name: String,
   |         ^^^^
   |
   = note: `NameInput` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `count` is never read
   --> meerkat-tools/src/registry.rs:101:9
    |
100 |     struct CountOptionalInput {
    |            ------------------ field in this struct
101 |         count: Option<i64>,
    |         ^^^^^
    |
    = note: `CountOptionalInput` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

   Compiling meerkat v0.1.0 (/Users/luka/src/raik/meerkat)
   Compiling meerkat-integration-tests v0.1.0 (/Users/luka/src/raik/tests/integration)
warning: `meerkat-tools` (lib test) generated 5 warnings
   Compiling meerkat-rest v0.1.0 (/Users/luka/src/raik/meerkat-rest)
   Compiling meerkat-mcp-server v0.1.0 (/Users/luka/src/raik/meerkat-mcp-server)
   Compiling meerkat-cli v0.1.0 (/Users/luka/src/raik/meerkat-cli)
warning: field `expression` is never read
  --> meerkat/examples/multi_turn_tools.rs:24:5
   |
22 | struct CalculateArgs {
   |        ------------- field in this struct
23 |     #[schemars(description = "A simple arithmetic expression like '2 + 3' or '10 * 5'")]
24 |     expression: String,
   |     ^^^^^^^^^^
   |
   = note: `CalculateArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` on by default

warning: field `note` is never read
  --> meerkat/examples/multi_turn_tools.rs:30:5
   |
28 | struct SaveNoteArgs {
   |        ------------ field in this struct
29 |     #[schemars(description = "The note content to save")]
30 |     note: String,
   |     ^^^^
   |
   = note: `SaveNoteArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `city` is never read
   --> meerkat/tests/e2e.rs:851:9
    |
849 |     struct GetWeatherArgs {
    |            -------------- field in this struct
850 |         #[schemars(description = "City name")]
851 |         city: String,
    |         ^^^^
    |
    = note: `GetWeatherArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
    = note: `#[warn(dead_code)]` on by default

warning: field `timezone` is never read
   --> meerkat/tests/e2e.rs:857:9
    |
855 |     struct GetTimeArgs {
    |            ----------- field in this struct
856 |         #[schemars(description = "Timezone name")]
857 |         timezone: String,
    |         ^^^^^^^^
    |
    = note: `GetTimeArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: field `symbol` is never read
   --> meerkat/tests/e2e.rs:863:9
    |
861 |     struct GetStockArgs {
    |            ------------ field in this struct
862 |         #[schemars(description = "Stock symbol")]
863 |         symbol: String,
    |         ^^^^^^
    |
    = note: `GetStockArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `meerkat` (example "multi_turn_tools") generated 2 warnings
warning: `meerkat` (test "e2e") generated 3 warnings
warning: fields `a` and `b` are never read
  --> meerkat/examples/with_tools.rs:25:5
   |
23 | struct BinaryMathArgs {
   |        -------------- fields in this struct
24 |     #[schemars(description = "First number")]
25 |     a: f64,
   |     ^
26 |     #[schemars(description = "Second number")]
27 |     b: f64,
   |     ^
   |
   = note: `BinaryMathArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
   = note: `#[warn(dead_code)]` on by default

warning: field `input` is never read
   --> meerkat/tests/integration.rs:207:9
    |
206 |     struct ToolInput {
    |            --------- field in this struct
207 |         input: String,
    |         ^^^^^
    |
    = note: `ToolInput` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis
    = note: `#[warn(dead_code)]` on by default

warning: field `path` is never read
   --> meerkat/tests/integration.rs:973:9
    |
972 |     struct ReadFileArgs {
    |            ------------ field in this struct
973 |         path: String,
    |         ^^^^
    |
    = note: `ReadFileArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: fields `path` and `content` are never read
   --> meerkat/tests/integration.rs:978:9
    |
977 |     struct WriteFileArgs {
    |            ------------- fields in this struct
978 |         path: String,
    |         ^^^^
979 |         content: String,
    |         ^^^^^^^
    |
    = note: `WriteFileArgs` has derived impls for the traits `Clone` and `Debug`, but these are intentionally ignored during dead code analysis

warning: `meerkat` (example "with_tools") generated 1 warning
warning: `meerkat` (test "integration") generated 3 warnings
    Finished `test` profile [unoptimized + debuginfo] target(s) in 1m 42s
     Running unittests src/main.rs (target/debug/deps/mcp_test_server-8a051c2d1a55b3f6)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/meerkat-4999a4a4fc7558cb)

running 3 tests
test sdk::tests::test_builtin_tools_dispatch ... ok
test sdk::tests::test_builtin_tools_in_project_dir ... ok
test sdk::tests::test_create_dispatcher_in_project_dir ...
running 1 test
test sdk::tests::test_create_dispatcher_in_project_dir ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running tests/e2e.rs (target/debug/deps/e2e-78a401e0b3d0bb26)

running 19 tests
test budget_exhaustion::test_budget_exhaustion_graceful_stop ... ignored, Live API call
test budget_exhaustion::test_tool_call_budget_limit ... ignored, Live API call
test multi_turn::test_multi_turn_context_maintained ... ignored, Live API call
test parallel_tools::test_parallel_tool_execution ... ignored, Live API call
test parallel_tools::test_parallel_tools_multiturn ... ignored, Live API call
test parallel_tools::test_parallel_tools_partial_failure ... ignored, Live API call
test parallel_tools::test_parallel_tools_with_timing_verification ... ignored, Live API call
test sanity::test_agent_builder_creates_valid_agent ... ok
test sanity::test_budget_limits_construction ... ok
test sanity::test_loop_state_initial ... ok
test sanity::test_session_creation ... ok
test session_resume::test_session_resume_from_checkpoint ... ignored, Live API call
test simple_chat::test_simple_chat_anthropic ... ignored, Live API call
test sub_agent_fork::test_context_strategy_application ... ignored, Live API call
test sub_agent_fork::test_depth_limit_enforced ... ignored, Live API call
test sub_agent_fork::test_sub_agent_fork_and_return ... ignored, Live API call
test sub_agent_fork::test_sub_agent_spawn ... ignored, Live API call
test sub_agent_fork::test_tool_access_policy_enforcement ... ignored, Live API call
test tool_invocation::test_tool_invocation_with_mcp ... ignored, Live API call

test result: ok. 4 passed; 0 failed; 15 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_comms.rs (target/debug/deps/e2e_comms-8e16935a400c9783)

running 7 tests
test multi_turn_comms::test_e2e_llm_multi_turn ... ignored, Live API call
test request_response::test_e2e_llm_request_response ... ignored, Live API call
test sanity::test_comms_manager_creation ... ok
test sanity::test_comms_tool_dispatcher_has_tools ... ok
test sanity::test_trusted_peers_construction ... ok
test three_agent_coordination::test_e2e_llm_three_agent_coordination ... ignored, Live API call
test two_agent_message::test_e2e_llm_message_exchange ... ignored, Live API call

test result: ok. 3 passed; 0 failed; 4 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_sdk_agentfactory.rs (target/debug/deps/e2e_sdk_agentfactory-e55c2f479b53d30a)

running 1 test
test e2e_sdk_agentfactory_tool_dispatch ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_sdk_config_ephemeral.rs (target/debug/deps/e2e_sdk_config_ephemeral-a2afe11bcc0a56c3)

running 1 test
test e2e_sdk_config_ephemeral ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_shell.rs (target/debug/deps/e2e_shell-4a273c949c752bf3)

running 25 tests
test test_e2e_event_channel_sh ... ok
test test_e2e_job_manager_basic_sh ... ok
test test_e2e_shell_background_cancel ... ignored, requires nu
test test_e2e_shell_background_completion ... ignored, requires nu
test test_e2e_shell_background_spawn ... ignored, requires nu
test test_e2e_shell_basic_sh_execution ... ok
test test_e2e_shell_disabled_by_default ... ok
test test_e2e_shell_exit_code ... ignored, requires nu
test test_e2e_shell_invalid_workdir ... ok
test test_e2e_shell_job_not_found ... ok
test test_e2e_shell_multiple_jobs ... ignored, requires nu
test test_e2e_shell_not_installed ... ok
test test_e2e_shell_stderr ... ignored, requires nu
test test_e2e_shell_sync_execute ... ignored, requires nu
test test_e2e_shell_sync_timeout ... ignored, requires nu
test test_e2e_shell_tool_name ... ok
test test_e2e_shell_tool_schema ... ok
test test_e2e_shell_tool_set ... ok
test test_regression_async_execution_nonblocking ... ok
test test_regression_concurrent_job_spawning ... ok
test test_regression_job_cleanup_prevents_leak ... ok
test test_regression_kill_terminates_process ... ok
test test_regression_non_utf8_output ... ok
test test_regression_timeout_enforced ... ignored, requires nu
test test_regression_truncation_keeps_tail ... ignored, requires nu

test result: ok. 15 passed; 0 failed; 10 ignored; 0 measured; 0 filtered out; finished in 2.76s

     Running tests/integration.rs (target/debug/deps/integration-3504e088add9d802)

running 35 tests
test budget_enforcement::test_budget_token_limit_enforced ... ok
test budget_enforcement::test_budget_tool_call_limit_enforced ... ok
test budget_enforcement::test_budget_unlimited ... ok
test combined::test_budget_with_usage_recording ... ok
test combined::test_llm_request_with_tools ... ok
test combined::test_operation_spec_completeness ... ok
test combined::test_session_with_tool_results ... ok
test config_loading::test_config_precedence ... ok
test config_loading::test_config_type_coercion ... ok
test llm_normalization::test_anthropic_normalizes_to_llm_event ... ignored, Live API call
test llm_normalization::test_provider_error_classification ... ok
test mcp_protocol::test_mcp_config_structure ... ok
test mcp_protocol::test_mcp_router_creation ... ok
test mcp_protocol::test_mcp_tool_call_roundtrip ... ok
test mcp_protocol::test_meerkat_mcp_server_tools_list ... ok
test operation_injection::test_artifact_ref_resolution ... ok
test operation_injection::test_event_ordering_preserved ... ok
test operation_injection::test_results_injected_at_turn_boundary ... ok
test retry_policy::test_exponential_backoff ... ok
test retry_policy::test_non_retryable_fail_fast ... ok
test retry_policy::test_retryable_errors_retry ... ok
test session_persistence::test_checkpoint_atomic_write ... ok
test session_persistence::test_resume_after_crash ... ok
test session_persistence::test_session_roundtrip ... ok
test state_machine::test_cancellation_path ... ok
test state_machine::test_error_recovery_path ... ok
test state_machine::test_invalid_transitions_from_terminal ... ok
test state_machine::test_valid_state_transitions ... ok
test state_machine::test_waiting_for_ops_path ... ok
test sub_agent_access::test_allow_list_structure ... ok
test sub_agent_access::test_deny_list_structure ... ok
test sub_agent_access::test_inherit_policy ... ok
test tool_dispatch::test_tool_discovery_validates_schema ... ok
test tool_dispatch::test_tool_error_captured ... ok
test tool_dispatch::test_tool_timeout_enforced ... ok

test result: ok. 34 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.98s

     Running unittests src/lib.rs (target/debug/deps/meerkat_agent-3a0f0972bfe6aba0)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/rkat-c5c77f0d9c089c3f)

running 40 tests
test mcp::tests::test_add_duplicate_server_fails ... ok
test mcp::tests::test_add_http_server_to_file ... ok
test mcp::tests::test_add_http_server_with_headers ... ok
test mcp::tests::test_add_server_to_existing_file ... ok
test mcp::tests::test_add_server_to_new_file ... ok
test mcp::tests::test_add_server_with_env ... ok
test mcp::tests::test_add_sse_server_to_file ... ok
test mcp::tests::test_format_server_target_http ... ok
test mcp::tests::test_format_server_target_sse ... ok
test mcp::tests::test_format_server_target_stdio ... ok
test mcp::tests::test_mask_secret_long ... ok
test mcp::tests::test_mask_secret_short ... ok
test mcp::tests::test_mask_secret_unicode ... ok
test mcp::tests::test_parse_env_vars_invalid ... ok
test mcp::tests::test_parse_env_vars_valid ... ok
test mcp::tests::test_parse_headers_invalid ... ok
test mcp::tests::test_parse_headers_valid ... ok
test mcp::tests::test_remove_from_missing_file_fails ... ok
test mcp::tests::test_remove_nonexistent_server_fails ... ok
test mcp::tests::test_remove_server_from_file ... ok
test mcp::tests::test_transport_label ... ok
test mcp::tests::test_truncate_str_ascii ... ok
test mcp::tests::test_truncate_str_unicode ... ok
test tests::test_comms_tool_dispatcher_provides_comms_tools ... ok
test tests::test_enable_builtins_with_no_subagents ... ok
test tests::test_enabled_tools_builtins_and_subagents ... ok
test tests::test_enabled_tools_subagents_only ... ok
test tests::test_infer_provider_anthropic ... ok
test tests::test_infer_provider_gemini ... ok
test tests::test_infer_provider_openai ... ok
test tests::test_infer_provider_unknown ... ok
test tests::test_no_subagents_flag_disables_subagents ... ok
test tests::test_parse_provider_params_empty ... ok
test tests::test_parse_provider_params_empty_value ... ok
test tests::test_parse_provider_params_invalid_no_equals ... ok
test tests::test_parse_provider_params_multiple ... ok
test tests::test_parse_provider_params_single ... ok
test tests::test_parse_provider_params_value_with_equals ... ok
test tests::test_subagent_enabled_by_default ... ok
test tests::test_subagents_independent_of_builtins ... ok

test result: ok. 40 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/e2e_resume.rs (target/debug/deps/e2e_resume-40ed288b4013705d)

running 1 test
test e2e_cli_resume_tools ... ignored, E2E CLI test

test result: ok. 0 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_rkat_comms.rs (target/debug/deps/e2e_rkat_comms-d0484fcc7fb98bf5)

running 11 tests
test test_e2e_rkat_ack_is_immediate ... ignored, E2E network test
test test_e2e_rkat_request_response_flow ... ignored, E2E network test
test test_e2e_rkat_sender_nonblocking ... ignored, E2E network test
test test_e2e_rkat_tcp_message_exchange ... ignored, E2E network test
test test_e2e_rkat_three_peer_coordination ... ignored, E2E network test
test test_e2e_rkat_uds_message_exchange ... ignored, E2E network test
test test_e2e_rkat_untrusted_rejected ... ignored, E2E network test
test test_rkat_instance_spawn_kill ... ok
test test_rkat_mutual_trust_setup ... ok
test test_rkat_temp_setup ... ok
test test_rkat_wait_for_ready ... ok

test result: ok. 4 passed; 0 failed; 7 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/e2e_rkat_init.rs (target/debug/deps/e2e_rkat_init-541f51e65df36898)

running 1 test
test e2e_rkat_init_snapshot ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.42s

     Running unittests src/lib.rs (target/debug/deps/meerkat_client-3e2d22ff690cf7fe)

running 57 tests
test anthropic::tests::test_build_request_body_basic ... ok
test anthropic::tests::test_build_request_body_no_provider_params ... ok
test anthropic::tests::test_build_request_body_with_top_k ... ok
test anthropic::tests::test_client_builder_creates_configured_client ... ok
test anthropic::tests::test_client_default_has_connection_pool ... ok
test anthropic::tests::test_parse_sse_line ... ok
test anthropic::tests::test_sse_buffer_constants ... ok
test error::tests::test_error_serialization ... ok
test error::tests::test_from_http_status ... ok
test error::tests::test_non_retryable_errors ... ok
test error::tests::test_retry_after ... ok
test error::tests::test_retryable_errors ... ok
test factory::tests::test_default_factory_supported_providers ... ok
test factory::tests::test_factory_config_builder ... ok
test factory::tests::test_factory_error_display ... ok
test factory::tests::test_factory_is_supported ... ok
test factory::tests::test_factory_missing_api_key ... ok
test factory::tests::test_factory_with_explicit_key ... ok
test factory::tests::test_provider_as_str ... ok
test factory::tests::test_provider_display ... ok
test factory::tests::test_provider_env_var ... ok
test factory::tests::test_provider_parse ... ok
test gemini::tests::test_build_request_body_no_provider_params ... ok
test gemini::tests::test_build_request_body_with_multiple_provider_params ... ok
test gemini::tests::test_build_request_body_with_thinking_budget ... ok
test gemini::tests::test_build_request_body_with_top_k ... ok
test gemini::tests::test_parse_stream_line_empty ... ok
test gemini::tests::test_parse_stream_line_function_call ... ok
test gemini::tests::test_parse_stream_line_invalid_json ... ok
test gemini::tests::test_parse_stream_line_valid_response ... ok
test gemini::tests::test_parse_stream_line_with_usage ... ok
test openai::tests::test_multiple_provider_params_combined ... ok
test openai::tests::test_parse_sse_line_done_marker ... ok
test openai::tests::test_parse_sse_line_non_data_line ... ok
test openai::tests::test_parse_sse_line_valid_data ... ok
test openai::tests::test_request_includes_frequency_penalty_from_provider_params ... ok
test openai::tests::test_request_includes_presence_penalty_from_provider_params ... ok
test openai::tests::test_request_includes_reasoning_effort_from_provider_params ... ok
test openai::tests::test_request_includes_seed_from_provider_params ... ok
test openai::tests::test_tool_args_serialization_no_double_encoding ... ok
test openai::tests::test_unknown_provider_params_are_ignored ... ok
test types::tests::test_llm_event_serialization ... ok
test types::tests::test_llm_request_builder ... ok
test types::tests::test_llm_request_provider_params_empty_object ... ok
test types::tests::test_llm_request_provider_params_none_serialization ... ok
test types::tests::test_llm_request_provider_params_serialization ... ok
test types::tests::test_llm_request_with_provider_param_multiple ... ok
test types::tests::test_llm_request_with_provider_param_overwrites ... ok
test types::tests::test_llm_request_with_provider_param_single ... ok
test types::tests::test_llm_request_with_provider_params ... ok
test types::tests::test_tool_call_buffer ... ok
test types::tests::test_tool_call_buffer_empty_args ... ok
test types::tests::test_tool_call_buffer_incomplete ... ok
test types::tests::test_tool_call_buffer_no_reallocation_small_args ... ok
test types::tests::test_tool_call_buffer_preallocated_capacity ... ok
test types::tests::test_tool_call_buffer_push_args ... ok
test types::tests::test_tool_call_buffer_with_capacity ... ok

test result: ok. 57 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.05s

     Running tests/e2e.rs (target/debug/deps/e2e-3e773a79949afa78)

running 8 tests
test test_anthropic_auth_error ... ignored, Requires network access
test test_anthropic_stream ... ignored, Requires network access
test test_anthropic_tool_use ... ignored, Requires network access
test test_gemini_stream ... ignored, Requires network access
test test_gemini_tool_use ... ignored, Requires network access
test test_openai_auth_error ... ignored, Requires network access
test test_openai_stream ... ignored, Requires network access
test test_openai_tool_use ... ignored, Requires network access

test result: ok. 0 passed; 0 failed; 8 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/rct_contracts.rs (target/debug/deps/rct_contracts-c42c69525f7b9991)

running 3 tests
test test_inv_006_provider_inference_uses_resolver ... ok
test test_llm_adapter_streaming_contract ... ok
test test_provider_resolution_contract ...
running 1 test
test test_provider_resolution_contract ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/meerkat_comms-64d22e3ebdc844e6)

running 124 tests
test identity::tests::test_keypair_generate ... ok
test identity::tests::test_keypair_load ... ok
test identity::tests::test_keypair_load_or_generate_existing ... ok
test identity::tests::test_keypair_load_or_generate_new ... ok
test identity::tests::test_keypair_persistence_roundtrip ... ok
test identity::tests::test_keypair_public_key ... ok
test identity::tests::test_keypair_save ... ok
test identity::tests::test_keypair_sign ... ok
test identity::tests::test_keypair_struct ... ok
test identity::tests::test_peer_id_format ... ok
test identity::tests::test_peer_id_roundtrip ... ok
test identity::tests::test_pubkey_cbor_roundtrip ... ok
test identity::tests::test_pubkey_from_peer_id ... ok
test identity::tests::test_pubkey_size ... ok
test identity::tests::test_pubkey_to_peer_id ... ok
test identity::tests::test_pubkey_verify ... ok
test identity::tests::test_sign_verify_roundtrip ... ok
test identity::tests::test_signature_cbor_roundtrip ... ok
test identity::tests::test_signature_size ... ok
test identity::tests::test_tamper_detection ... ok
test identity::tests::test_wrong_key_rejection ... ok
test inbox::tests::test_inbox_has_notify ... ok
test inbox::tests::test_inbox_new ... ok
test inbox::tests::test_inbox_recv ... ok
test inbox::tests::test_inbox_sender_send ... ok
test inbox::tests::test_inbox_sender_struct ... ok
test inbox::tests::test_inbox_struct ... ok
test inbox::tests::test_inbox_try_drain ... ok
test inbox::tests::test_notify_wakes_waiting_task ... ok
test inbox::tests::test_sender_error_on_closed_inbox ... ok
test inbox::tests::test_sender_notifies_on_send ... ok
test inproc::tests::test_global_registry ... ok
test inproc::tests::test_registry_aba_scenario_safe ... ok
test inproc::tests::test_registry_clear ... ok
test inproc::tests::test_registry_new ... ok
test inproc::tests::test_registry_peer_names ... ok
test inproc::tests::test_registry_register_and_lookup ... ok
test inproc::tests::test_registry_replace_on_same_name_different_pubkey ... ok
test inproc::tests::test_registry_replace_on_same_pubkey ... ok
test inproc::tests::test_registry_send_delivers_to_inbox ... ok
test inproc::tests::test_registry_send_inbox_closed ... ok
test inproc::tests::test_registry_send_peer_not_found ... ok
test inproc::tests::test_registry_unregister ... ok
test io_task::tests::test_ack_for_message ... ok
test io_task::tests::test_ack_for_request ... ok
test io_task::tests::test_drop_invalid_signature ... ok
test io_task::tests::test_drop_untrusted_sender ... ok
test io_task::tests::test_handle_connection_compiles ... ok
test io_task::tests::test_io_task_checks_trust ... ok
test io_task::tests::test_io_task_enqueues_to_inbox ... ok
test io_task::tests::test_io_task_reads_envelope ... ok
test io_task::tests::test_io_task_sends_ack ... ok
test io_task::tests::test_io_task_verifies_signature ... ok
test io_task::tests::test_no_ack_for_ack ... ok
test io_task::tests::test_no_ack_for_response ... ok
test router::tests::test_comms_config ... ok
test router::tests::test_router_dynamic_trust_updates ... ok
test router::tests::test_router_struct ... ok
test router::tests::test_send_error_io ... ok
test router::tests::test_send_error_peer_not_found ... ok
test router::tests::test_send_error_peer_offline ... ok
test transport::tcp::tests::test_tcp_bind ... ok
test transport::tcp::tests::test_tcp_connect ... ok
test transport::tcp::tests::test_tcp_envelope_roundtrip ... ok
test transport::tests::test_inproc_is_inproc ... ok
test transport::tests::test_inproc_name ... ok
test transport::tests::test_parse_inproc_addr ... ok
test transport::tests::test_parse_inproc_addr_empty_name ... ok
test transport::tests::test_parse_invalid_addr ... ok
test transport::tests::test_parse_tcp_addr_fqdn ... ok
test transport::tests::test_parse_tcp_addr_hostname ... ok
test transport::tests::test_parse_tcp_addr_ip ... ok
test transport::tests::test_parse_tcp_addr_missing_port ... ok
test transport::tests::test_parse_uds_addr ... ok
test transport::tests::test_peer_addr_inproc_variant ... ok
test transport::tests::test_peer_addr_tcp_variant ... ok
test transport::tests::test_peer_addr_uds_variant ... ok
test transport::tests::test_transport_codec_decode_roundtrip ... ok
test transport::tests::test_transport_codec_encode_format ... ok
test transport::tests::test_transport_codec_envelope_roundtrip ... ok
test transport::tests::test_transport_codec_reject_oversized_payload ... ok
test transport::tests::test_transport_error_invalid_frame ... ok
test transport::tests::test_transport_error_io ... ok
test transport::tests::test_transport_error_timeout ... ok
test transport::tests::test_transport_error_too_large ... ok
test transport::uds::tests::test_uds_bind ... ok
test transport::uds::tests::test_uds_connect ... ok
test transport::uds::tests::test_uds_envelope_roundtrip ... ok
test trust::tests::test_get_by_name ... ok
test trust::tests::test_get_peer ... ok
test trust::tests::test_has_peers ... ok
test trust::tests::test_is_empty ... ok
test trust::tests::test_is_trusted_found ... ok
test trust::tests::test_is_trusted_not_found ... ok
test trust::tests::test_json_format_matches_spec ... ok
test trust::tests::test_len ... ok
test trust::tests::test_remove_existing_peer ... ok
test trust::tests::test_remove_nonexistent_peer ... ok
test trust::tests::test_trusted_peer_fields ... ok
test trust::tests::test_trusted_peer_json_roundtrip ... ok
test trust::tests::test_trusted_peers_fields ... ok
test trust::tests::test_trusted_peers_json_roundtrip ... ok
test trust::tests::test_trusted_peers_load ... ok
test trust::tests::test_trusted_peers_persistence_roundtrip ... ok
test trust::tests::test_trusted_peers_save ... ok
test trust::tests::test_upsert_adds_new_peer ... ok
test trust::tests::test_upsert_updates_existing_peer ... ok
test types::tests::test_envelope_cbor_roundtrip ... ok
test types::tests::test_envelope_fields ... ok
test types::tests::test_envelope_sign ... ok
test types::tests::test_envelope_verify ... ok
test types::tests::test_inbox_item_cbor_roundtrip ... ok
test types::tests::test_inbox_item_external_fields ... ok
test types::tests::test_inbox_item_subagent_fields ... ok
test types::tests::test_message_kind_ack_fields ... ok
test types::tests::test_message_kind_cbor_roundtrip ... ok
test types::tests::test_message_kind_message_fields ... ok
test types::tests::test_message_kind_request_fields ... ok
test types::tests::test_message_kind_response_fields ... ok
test types::tests::test_message_kind_tags_are_strings ... ok
test types::tests::test_signable_bytes_deterministic ... ok
test types::tests::test_status_cbor_roundtrip ... ok
test types::tests::test_status_encodes_as_string ... ok
test types::tests::test_status_variants ... ok

test result: ok. 124 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

     Running tests/e2e.rs (target/debug/deps/e2e-e7947f398eb9e6f0)

running 7 tests
test test_e2e_concurrent_multi_peer ... ok
test test_e2e_harness ... ok
test test_e2e_mutual_trust_setup ... ok
test test_e2e_request_response_flow ... ok
test test_e2e_tcp_message_exchange ... ok
test test_e2e_uds_message_exchange ... ok
test test_e2e_untrusted_rejected ... ok

test result: ok. 7 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running tests/rct_contracts.rs (target/debug/deps/rct_contracts-d0698a15e602cd36)

running 4 tests
test test_rct_contracts_envelope_signable_bytes_are_canonical ... ok
test test_rct_contracts_transport_codec_rejects_oversize_len_prefix_on_decode ... ok
test test_rct_contracts_transport_codec_rejects_oversize_payload_on_encode ... ok
test test_rct_contracts_transport_codec_roundtrip ... ok

test result: ok. 4 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.04s

     Running tests/router_integration.rs (target/debug/deps/router_integration-be014f9489c6e5a7)

running 13 tests
test test_router_connects_to_peer ... ok
test test_router_inproc_peer_not_found ... ok
test test_router_inproc_request_response ... ok
test test_router_inproc_send ... ok
test test_router_resolves_peer_name ... ok
test test_router_send ... ok
test test_router_signs_envelope ... ok
test test_router_timeout_returns_offline ... ok
test test_router_waits_for_ack ... ok
test test_send_message ... ok
test test_send_request ... ok
test test_send_response ... ok
test test_send_response_no_ack_wait ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.02s

     Running unittests src/lib.rs (target/debug/deps/meerkat_comms_agent-cb57e0a31d06fe2b)

running 25 tests
test comms_agent::tests::test_comms_agent_builder ... ok
test comms_agent::tests::test_comms_agent_injects_inbox ... ok
test comms_agent::tests::test_comms_agent_struct ... ok
test comms_agent::tests::test_format_inbox_messages ... ok
test listener::tests::test_comms_manager_listeners ... ok
test listener::tests::test_listener_handle_abort ... ok
test listener::tests::test_spawn_tcp_listener ... ok
test listener::tests::test_spawn_uds_listener ... ok
test manager::tests::test_comms_manager_config_builder ... ok
test manager::tests::test_comms_manager_drain ... ok
test manager::tests::test_comms_manager_drain_empty ... ok
test manager::tests::test_comms_manager_new ... ok
test manager::tests::test_comms_manager_router_access ... ok
test manager::tests::test_comms_manager_struct ... ok
test types::tests::test_comms_content_variants ... ok
test types::tests::test_comms_message_formatting ... ok
test types::tests::test_comms_message_formatting_request ... ok
test types::tests::test_comms_message_formatting_response ... ok
test types::tests::test_comms_message_from_inbox_item ... ok
test types::tests::test_comms_message_from_inbox_item_ignores_ack ... ok
test types::tests::test_comms_message_from_inbox_item_ignores_subagent_result ... ok
test types::tests::test_comms_message_from_inbox_item_ignores_unknown_peer ... ok
test types::tests::test_comms_message_from_inbox_item_request ... ok
test types::tests::test_comms_message_from_inbox_item_response ... ok
test types::tests::test_comms_message_struct ... ok

test result: ok. 25 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.35s

     Running unittests src/lib.rs (target/debug/deps/meerkat_comms_mcp-2b65ab329bf68e2a)

running 10 tests
test tools::tests::test_list_peers_input_parsing ... ok
test tools::tests::test_mcp_tool_discovery ... ok
test tools::tests::test_send_message_input_parsing ... ok
test tools::tests::test_send_request_input_parsing ... ok
test tools::tests::test_send_response_input_parsing ... ok
test tools::tests::test_tool_list_peers ... ok
test tools::tests::test_tool_send_message ... ok
test tools::tests::test_tool_send_request ... ok
test tools::tests::test_tool_send_response ... ok
test tools::tests::test_tools_list_contains_all_four_tools ... ok

test result: ok. 10 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/lib.rs (target/debug/deps/meerkat_core-d3d6a6ef2c6a5633)

running 191 tests
test agent::tests::test_agent_builder ... ok
test agent::tests::test_agent_builder_comms_method ... ok
test agent::tests::test_agent_builder_creates_comms_runtime ... ok
test agent::tests::test_agent_builder_has_comms_config ... ok
test agent::tests::test_agent_builder_provider_params ... ok
test agent::tests::test_agent_comms_accessor ... ok
test agent::tests::test_agent_comms_mut_accessor ... ok
test agent::tests::test_agent_config_accepts_provider_params ... ok
test agent::tests::test_agent_drains_inbox_at_turn_boundary ... ok
test agent::tests::test_agent_empty_inbox_nonblocking ... ok
test agent::tests::test_agent_formats_inbox_for_llm ... ok
test agent::tests::test_agent_has_comms_runtime ... ok
test agent::tests::test_agent_no_comms_tools_when_disabled ... ok
test agent::tests::test_agent_simple_response ... ok
test agent::tests::test_agent_starts_comms_listeners ... ok
test agent::tests::test_agent_with_comms_runtime ... ok
test agent::tests::test_agent_with_tool_call ... ok
test agent::tests::test_filtered_tool_dispatcher_blocks_disallowed ... ok
test agent::tests::test_filtered_tool_dispatcher_uses_hashset ... ok
test agent::tests::test_parallel_tool_all_failures ... ok
test agent::tests::test_parallel_tool_partial_failure ... ok
test agent::tests::test_parallel_tool_results_preserve_order ... ok
test agent::tests::test_provider_params_flows_to_stream_response ... ok
test agent::tests::test_provider_params_none_when_not_set ... ok
test agent::tests::test_run_host_mode_duration_timeout ... ok
test agent::tests::test_run_host_mode_empty_prompt_skips_llm ... ok
test agent::tests::test_run_host_mode_requires_comms ... ok
test agent::tests::test_run_host_mode_runs_initial_prompt ... ok
test agent::tests::test_subagent_has_no_comms ... ok
test agent::tests::test_tool_calls_execute_in_parallel ... ok
test agent::tests::test_tool_results_vec_preallocated ... ok
test budget::tests::test_budget_pool_reclaim ... ok
test budget::tests::test_budget_pool_reserve ... ok
test budget::tests::test_budget_token_limit ... ok
test budget::tests::test_budget_tool_call_limit ... ok
test budget::tests::test_budget_unlimited ... ok
test comms_bootstrap::tests::test_comms_advertise_to_trusted_peer ... ok
test comms_bootstrap::tests::test_comms_bootstrap_disabled ... ok
test comms_bootstrap::tests::test_comms_bootstrap_error_display ... ok
test comms_bootstrap::tests::test_comms_bootstrap_for_child ... ok
test comms_bootstrap::tests::test_comms_bootstrap_for_child_inproc ... ok
test comms_bootstrap::tests::test_comms_bootstrap_from_config ... ok
test comms_bootstrap::tests::test_inproc_child_can_reach_parent ... ok
test comms_bootstrap::tests::test_prepare_child_creates_runtime_and_advertise ... ok
test comms_bootstrap::tests::test_prepare_config_creates_runtime ... ok
test comms_bootstrap::tests::test_prepare_config_disabled_returns_none ... ok
test comms_bootstrap::tests::test_prepare_disabled_returns_none ... ok
test comms_bootstrap::tests::test_prepare_inproc_creates_runtime_and_advertise ... ok
test comms_config::tests::test_core_comms_config_defaults ... ok
test comms_config::tests::test_core_comms_config_path_interpolation ... ok
test comms_config::tests::test_core_comms_config_resolve_paths ... ok
test comms_config::tests::test_core_comms_config_serde ... ok
test comms_config::tests::test_core_comms_config_struct ... ok
test comms_config::tests::test_core_comms_config_with_name ... ok
test comms_config::tests::test_resolved_comms_config_struct ... ok
test comms_config::tests::test_resolved_to_comms_config ... ok
test comms_runtime::tests::test_comms_message_formatting ... ok
test comms_runtime::tests::test_comms_runtime_arc_accessors ... ok
test comms_runtime::tests::test_comms_runtime_drain_messages ... ok
test comms_runtime::tests::test_comms_runtime_dynamic_trust_updates ... ok
test comms_runtime::tests::test_comms_runtime_error_from_io ... ok
test comms_runtime::tests::test_comms_runtime_error_variants ... ok
test comms_runtime::tests::test_comms_runtime_hybrid_inproc_child_can_reach_parent ... ok
test comms_runtime::tests::test_comms_runtime_hybrid_registers_inproc ... ok
test comms_runtime::tests::test_comms_runtime_inproc_addr ... ok
test comms_runtime::tests::test_comms_runtime_inproc_drop_cleanup ... ok
test comms_runtime::tests::test_comms_runtime_inproc_message_delivery ... ok
test comms_runtime::tests::test_comms_runtime_inproc_no_listeners ... ok
test comms_runtime::tests::test_comms_runtime_inproc_only ... ok
test comms_runtime::tests::test_comms_runtime_loads_trusted_peers ... ok
test comms_runtime::tests::test_comms_runtime_new ... ok
test comms_runtime::tests::test_comms_runtime_persists_keypair ... ok
test comms_runtime::tests::test_comms_runtime_public_key ... ok
test comms_runtime::tests::test_comms_runtime_router ... ok
test comms_runtime::tests::test_comms_runtime_shutdown ... ok
test comms_runtime::tests::test_comms_runtime_start_listeners ... ok
test comms_runtime::tests::test_comms_runtime_struct ... ok
test comms_runtime::tests::test_comms_runtime_uds_listener ... ok
test comms_runtime::tests::test_comms_status_variants ... ok
test comms_runtime::tests::test_resolved_comms_config_struct ... ok
test config::tests::test_budget_config_serialization ... ok
test config::tests::test_config_default ... ok
test config::tests::test_config_layering ...
running 1 test
test config::tests::test_config_layering ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 190 filtered out; finished in 0.00s

ok
test config::tests::test_provider_config_serialization ... ok
test config::tests::test_retry_config_to_policy ... ok
test error::tests::test_error_display ... ok
test error::tests::test_graceful_errors ... ok
test error::tests::test_recoverable_errors ... ok
test event::tests::test_agent_event_json_schema ... ok
test event::tests::test_budget_type_serialization ... ok
test gateway::tests::test_availability_always ... ok
test gateway::tests::test_availability_debug ... ok
test gateway::tests::test_availability_dynamic ... ok
test gateway::tests::test_availability_when_false ... ok
test gateway::tests::test_availability_when_true ... ok
test gateway::tests::test_builder_maybe_add ... ok
test gateway::tests::test_builder_multiple_dispatchers ... ok
test gateway::tests::test_collision_detection_ignores_availability ... ok
test gateway::tests::test_dispatcher_all_or_nothing_visibility ... ok
test gateway::tests::test_gateway_collision_error ... ok
test gateway::tests::test_gateway_conditional_visibility ... ok
test gateway::tests::test_gateway_merges_tools ... ok
test gateway::tests::test_gateway_no_overlay ... ok
test gateway::tests::test_gateway_not_found ... ok
test gateway::tests::test_gateway_routes_to_base ... ok
test gateway::tests::test_gateway_routes_to_overlay ... ok
test gateway::tests::test_gateway_unavailable_dispatch ... ok
test mcp_config::tests::test_empty_config_loads ... ok
test mcp_config::tests::test_env_expansion_in_config ...
running 1 test
test mcp_config::tests::test_env_expansion_in_config ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 190 filtered out; finished in 0.00s

ok
test mcp_config::tests::test_find_project_mcp_does_not_walk_up_tree ... ok
test mcp_config::tests::test_find_project_mcp_finds_config_in_current_dir ... ok
test mcp_config::tests::test_http_transport_defaults_to_streamable ... ok
test mcp_config::tests::test_http_transport_sse ... ok
test mcp_config::tests::test_load_from_files ... ok
test mcp_config::tests::test_merge_project_over_user ... ok
test mcp_config::tests::test_parse_mcp_toml ... ok
test mcp_config::tests::test_rejects_conflicting_transport_fields ... ok
test ops::tests::test_concurrency_limits_default ... ok
test ops::tests::test_context_strategy_serialization ... ok
test ops::tests::test_fork_budget_policy_serialization ... ok
test ops::tests::test_op_event_serialization ... ok
test ops::tests::test_operation_id_encoding ... ok
test ops::tests::test_tool_access_policy_serialization ... ok
test ops::tests::test_work_kind_serialization ... ok
test prompt::tests::test_agents_md_disabled ... ok
test prompt::tests::test_agents_md_size_limit ... ok
test prompt::tests::test_both_global_and_project_agents_md ... ok
test prompt::tests::test_custom_prompt_overrides_default ... ok
test prompt::tests::test_default_prompt_used_when_no_override ... ok
test prompt::tests::test_empty_agents_md_ignored ... ok
test prompt::tests::test_find_project_agents_md_in_meerkat_dir ... ok
test prompt::tests::test_find_project_agents_md_root ... ok
test prompt::tests::test_find_project_agents_md_root_takes_precedence ... ok
test prompt::tests::test_global_agents_md_injected ... ok
test prompt::tests::test_missing_agents_md_returns_none ... ok
test prompt::tests::test_project_agents_md_injected ... ok
test retry::tests::test_delay_calculation ... ok
test retry::tests::test_max_delay_cap ... ok
test retry::tests::test_retry_policy_default ... ok
test retry::tests::test_retry_policy_no_retry ... ok
test retry::tests::test_retry_policy_serialization ... ok
test retry::tests::test_should_retry ... ok
test session::tests::test_fork_at_shares_arc_prefix ... ok
test session::tests::test_fork_shares_arc_no_clone ... ok
test session::tests::test_push_batch_single_timestamp ... ok
test session::tests::test_push_cow_behavior ... ok
test session::tests::test_session_fork ... ok
test session::tests::test_session_meta_from_session ... ok
test session::tests::test_session_metadata ... ok
test session::tests::test_session_new ... ok
test session::tests::test_session_push ... ok
test session::tests::test_session_serialization ... ok
test session::tests::test_touch_updates_timestamp ... ok
test state::tests::test_cancellation_path ... ok
test state::tests::test_completed_is_terminal ... ok
test state::tests::test_error_recovery_path ... ok
test state::tests::test_full_happy_path ... ok
test state::tests::test_state_is_terminal ... ok
test state::tests::test_state_is_waiting ... ok
test state::tests::test_state_serialization ... ok
test state::tests::test_state_transition_failure ... ok
test state::tests::test_state_transition_success ... ok
test state::tests::test_valid_transitions_from_calling_llm ... ok
test state::tests::test_valid_transitions_from_cancelling ... ok
test state::tests::test_valid_transitions_from_draining_events ... ok
test state::tests::test_valid_transitions_from_error_recovery ... ok
test state::tests::test_valid_transitions_from_waiting_for_ops ... ok
test sub_agent::tests::test_context_strategy_full_history ... ok
test sub_agent::tests::test_context_strategy_last_turns ... ok
test sub_agent::tests::test_fork_budget_allocation_equal ... ok
test sub_agent::tests::test_fork_budget_allocation_fixed ... ok
test sub_agent::tests::test_steering_message_injection ... ok
test sub_agent::tests::test_tool_access_policy_allow_list ... ok
test sub_agent::tests::test_tool_access_policy_deny_list ... ok
test sub_agent::tests::test_tool_access_policy_inherit ... ok
test types::tests::test_artifact_ref_serialization ... ok
test types::tests::test_message_json_schema ... ok
test types::tests::test_run_result_json_schema ... ok
test types::tests::test_session_checkpoint_complex ... ok
test types::tests::test_session_checkpoint_empty ... ok
test types::tests::test_session_id_encoding ... ok
test types::tests::test_session_meta_timestamps ... ok
test types::tests::test_stop_reason_mapping ... ok
test types::tests::test_tool_call_serialization ... ok
test types::tests::test_tool_call_with_thought_signature ... ok
test types::tests::test_tool_def_empty_schema_serialization ... ok
test types::tests::test_tool_def_serialization ... ok
test types::tests::test_tool_result_from_tool_call ... ok
test types::tests::test_tool_result_serialization ... ok
test types::tests::test_tool_result_with_thought_signature ... ok
test types::tests::test_usage_accumulation ... ok

test result: ok. 191 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.38s

     Running tests/rct_contracts.rs (target/debug/deps/rct_contracts-4fd4433e5cca555e)

running 16 tests
test test_agent_factory_config_contract ... ok
test test_comms_runtime_contract ... ok
test test_config_env_contract ...
running 1 test
test test_config_env_contract ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 15 filtered out; finished in 0.00s

ok
test test_config_patch_semantics ... ok
test test_config_scope_contract ... ok
test test_config_store_contract ... ok
test test_error_mapping_contract ... ok
test test_inv_001_default_model_from_config ... ok
test test_inv_002_default_max_tokens_from_config ... ok
test test_inv_003_resume_preserves_metadata ... ok
test test_inv_005_agents_md_injected ... ok
test test_inv_008_comms_runtime_defaults_consistent ... ok
test test_inv_009_local_replaces_global ...
running 1 test
test test_inv_009_local_replaces_global ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 15 filtered out; finished in 0.00s

ok
test test_inv_010_programmatic_overrides_ephemeral ... ok
test test_resume_metadata_contract ... ok
test test_secrets_env_contract ...
running 1 test
test test_secrets_env_contract ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 15 filtered out; finished in 0.00s

ok

test result: ok. 16 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/lib.rs (target/debug/deps/meerkat_integration_tests-d244b0406f25f4c6)

running 3 tests
test phase1_wiring::test_agent_factory_builds_builtin_dispatcher ... ok
test phase1_wiring::test_provider_resolver_prefers_rkat_env ...
running 1 test
test phase1_wiring::test_provider_resolver_prefers_rkat_env ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 2 filtered out; finished in 0.00s

ok
test phase1_wiring::test_store_adapter_roundtrip ... ok

test result: ok. 3 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/lib.rs (target/debug/deps/meerkat_mcp_client-3f70c4908a286fd3)

running 13 tests
test connection::tests::test_extract_text_content_empty ... ok
test connection::tests::test_extract_text_content_multiple_items ... ok
test connection::tests::test_extract_text_content_single_item ... ok
test connection::tests::test_mcp_initialize_handshake ... ok
test connection::tests::test_mcp_tools_call_round_trip ... ok
test connection::tests::test_mcp_tools_list_schema_parse ... ok
test protocol::tests::test_extract_text_content_strict_empty ... ok
test protocol::tests::test_extract_text_content_strict_multiple_items ... ok
test protocol::tests::test_extract_text_content_strict_single_item ... ok
test router::tests::test_list_tools_preallocates_capacity ... ok
test router::tests::test_list_tools_uses_cached_tools ... ok
test router::tests::test_router_multiple_servers_shutdown ... ok
test router::tests::test_router_shutdown_graceful ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.02s

     Running unittests src/lib.rs (target/debug/deps/meerkat_mcp_server-141e41cfb13d4ca0)

running 13 tests
test tests::test_handle_meerkat_run_host_mode_requires_comms_name ... ok
test tests::test_meerkat_resume_input_parsing ... ok
test tests::test_meerkat_resume_input_with_tool_results ... ok
test tests::test_meerkat_run_input_host_mode_defaults_to_false ... ok
test tests::test_meerkat_run_input_parsing ... ok
test tests::test_meerkat_run_input_with_host_mode ... ok
test tests::test_meerkat_run_input_with_tools ... ok
test tests::test_mpc_tool_dispatcher_creates_tool_defs ... ok
test tests::test_mpc_tool_dispatcher_returns_callback_error ... ok
test tests::test_tools_list_has_host_mode_parameter ... ok
test tests::test_tools_list_has_tool_results_parameter ... ok
test tests::test_tools_list_has_tools_parameter ... ok
test tests::test_tools_list_schema ... ok

test result: ok. 13 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/main.rs (target/debug/deps/meerkat_mcp_server-aeab49210d0a3195)

running 1 test
test tests::test_tracing_subscriber_initializes ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_resume.rs (target/debug/deps/e2e_resume-9c6b8af0b62fe47a)

running 1 test
test e2e_mcp_resume_metadata ...
running 1 test
test e2e_mcp_resume_metadata ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.34s

ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.35s

     Running unittests src/lib.rs (target/debug/deps/meerkat_rest-5eecb01a463af11a)

running 9 tests
test tests::test_app_state_builtins_disabled_by_default ... ok
test tests::test_app_state_default ... ok
test tests::test_create_session_request_host_mode_defaults_to_false ... ok
test tests::test_create_session_request_parsing_with_host_mode ... ok
test tests::test_create_tool_dispatcher_requires_project_root ... ok
test tests::test_create_tool_dispatcher_with_builtins ... ok
test tests::test_create_tool_dispatcher_with_shell ... ok
test tests::test_create_tool_dispatcher_without_builtins ... ok
test tests::test_error_response_serialization ... ok

test result: ok. 9 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.01s

     Running unittests src/main.rs (target/debug/deps/meerkat_rest-e9efff9cc4e699ba)

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running tests/e2e_resume.rs (target/debug/deps/e2e_resume-43c31e6f35ba556c)

running 1 test
test e2e_rest_resume_metadata ...
running 1 test
test e2e_rest_resume_metadata ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.33s

ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.34s

     Running unittests src/lib.rs (target/debug/deps/meerkat_store-bbdf013dc85b214e)

running 12 tests
test jsonl::tests::test_delete_nonexistent_uses_async_fs ... ok
test jsonl::tests::test_jsonl_store_compact_format ... ok
test jsonl::tests::test_jsonl_store_filter ... ok
test jsonl::tests::test_jsonl_store_list_reads_only_metadata ... ok
test jsonl::tests::test_jsonl_store_list_uses_index_when_metadata_missing ... ok
test jsonl::tests::test_jsonl_store_not_found ... ok
test jsonl::tests::test_jsonl_store_pretty_format_by_default ... ok
test jsonl::tests::test_jsonl_store_rebuilds_index_when_missing ... ok
test jsonl::tests::test_jsonl_store_roundtrip ... ok
test jsonl::tests::test_jsonl_store_uses_metadata_sidecar ... ok
test jsonl::tests::test_load_nonexistent_uses_async_fs ... ok
test memory::tests::test_memory_store_roundtrip ... ok

test result: ok. 12 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 1.98s

     Running tests/rct_contracts.rs (target/debug/deps/rct_contracts-a7a137212693e4fd)

running 1 test
test test_session_store_adapter_error_mapping ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

     Running unittests src/lib.rs (target/debug/deps/meerkat_tools-f1ff7cee8fd61a0b)

running 494 tests
test builtin::comms::surface::tests::test_peer_availability_dynamic ... ok
test builtin::comms::surface::tests::test_peer_availability_with_peers ... ok
test builtin::comms::surface::tests::test_peer_availability_without_peers ... ok
test builtin::comms::surface::tests::test_surface_dispatch_list_peers ... ok
test builtin::comms::surface::tests::test_surface_dispatch_unknown_tool ... ok
test builtin::comms::surface::tests::test_surface_has_all_tools ... ok
test builtin::comms::tool_set::tests::test_comms_tool_set_creation ... ok
test builtin::comms::tools::tests::test_list_peers_tool_name ... ok
test builtin::comms::tools::tests::test_list_peers_tool_works ... ok
test builtin::comms::tools::tests::test_send_message_tool_name ... ok
test builtin::comms::tools::tests::test_send_request_tool_name ... ok
test builtin::comms::tools::tests::test_send_response_tool_name ... ok
test builtin::composite::tests::dispatch_tests::test_composite_dispatch_builtin_invalid_args ... ok
test builtin::composite::tests::dispatch_tests::test_composite_dispatch_not_found ... ok
test builtin::composite::tests::dispatch_tests::test_composite_with_session_tracks_creates ... ok
test builtin::composite::tests::dispatch_tests::test_composite_with_session_tracks_updates ... ok
test builtin::composite::tests::shell_tools_tests::test_builtins_only_with_shell_enabled ... ok
test builtin::composite::tests::shell_tools_tests::test_builtins_only_with_shell_requires_explicit_enable ... ok
test builtin::composite::tests::shell_tools_tests::test_individual_shell_tool_can_be_disabled ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tool_is_builtin ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tools_appear_when_explicitly_enabled ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tools_disabled_by_default_when_not_explicitly_enabled ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tools_filtered_by_allow_list ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tools_filtered_by_deny_all ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tools_filtered_by_enforced_deny ... ok
test builtin::composite::tests::shell_tools_tests::test_shell_tools_not_present_without_config ... ok
test builtin::composite::tests::sub_agent_tools_tests::test_register_sub_agent_tools ... ok
test builtin::composite::tests::sub_agent_tools_tests::test_register_sub_agent_tools_respects_policy ... ok
test builtin::composite::tests::sub_agent_tools_tests::test_register_sub_agent_tools_sets_usage_instructions ... ok
test builtin::composite::tests::sub_agent_tools_tests::test_sub_agent_tools_collision_detection ... ok
test builtin::composite::tests::sub_agent_tools_tests::test_sub_agent_tools_disabled_by_default ... ok
test builtin::composite::tests::sub_agent_tools_tests::test_sub_agent_tools_in_tool_defs ... ok
test builtin::composite::tests::test_builtins_only_convenience ... ok
test builtin::composite::tests::test_composite_dispatcher_allow_list ... ok
test builtin::composite::tests::test_composite_dispatcher_builtin_count ... ok
test builtin::composite::tests::test_composite_dispatcher_default_config ... ok
test builtin::composite::tests::test_composite_dispatcher_deny_all ... ok
test builtin::composite::tests::test_composite_dispatcher_dispatch_builtin ... ok
test builtin::composite::tests::test_composite_dispatcher_dispatch_unknown_tool ... ok
test builtin::composite::tests::test_composite_dispatcher_enforced_deny ... ok
test builtin::composite::tests::test_composite_dispatcher_is_builtin ... ok
test builtin::composite::tests::with_external::test_composite_builtin_takes_precedence_when_disabled ... ok
test builtin::composite::tests::with_external::test_composite_dispatches_to_external ... ok
test builtin::composite::tests::with_external::test_composite_name_collision_error ... ok
test builtin::composite::tests::with_external::test_composite_with_external_lists_all_tools ... ok
test builtin::config::tests::test_builtin_tool_config_default ... ok
test builtin::config::tests::test_builtin_tool_config_resolve ... ok
test builtin::config::tests::test_builtin_tool_config_serde ... ok
test builtin::config::tests::test_enforced_allow_restricts_to_allowlist ... ok
test builtin::config::tests::test_enforced_deny_overrides_enable ... ok
test builtin::config::tests::test_enforced_policy_default ... ok
test builtin::config::tests::test_enforced_policy_serde ... ok
test builtin::config::tests::test_is_enabled_with_default_false ... ok
test builtin::config::tests::test_is_enabled_with_default_true ... ok
test builtin::config::tests::test_merge_empty_layers ... ok
test builtin::config::tests::test_merge_later_layer_wins ... ok
test builtin::config::tests::test_merge_mode_override ... ok
test builtin::config::tests::test_merge_single_layer_disable ... ok
test builtin::config::tests::test_merge_single_layer_enable ... ok
test builtin::config::tests::test_policy_layer_builder_methods ... ok
test builtin::config::tests::test_tool_mode_default ... ok
test builtin::config::tests::test_tool_mode_serde ... ok
test builtin::config::tests::test_tool_policy_layer_default ... ok
test builtin::config::tests::test_tool_policy_layer_serde ... ok
test builtin::file_store::tests::test_file_store_add_and_remove_blocks ... ok
test builtin::file_store::tests::test_file_store_atomic_write ... ok
test builtin::file_store::tests::test_file_store_create_and_get ... ok
test builtin::file_store::tests::test_file_store_create_with_defaults ... ok
test builtin::file_store::tests::test_file_store_creates_parent_dirs ... ok
test builtin::file_store::tests::test_file_store_delete ... ok
test builtin::file_store::tests::test_file_store_delete_not_found ... ok
test builtin::file_store::tests::test_file_store_get_nonexistent ... ok
test builtin::file_store::tests::test_file_store_in_project ... ok
test builtin::file_store::tests::test_file_store_list ... ok
test builtin::file_store::tests::test_file_store_persistence ... ok
test builtin::file_store::tests::test_file_store_store_rev_increments ... ok
test builtin::file_store::tests::test_file_store_update ... ok
test builtin::file_store::tests::test_file_store_update_not_found ... ok
test builtin::memory_store::tests::test_memory_store_add_and_remove_blocks_same_update ... ok
test builtin::memory_store::tests::test_memory_store_add_blocks ... ok
test builtin::memory_store::tests::test_memory_store_create_and_get ... ok
test builtin::memory_store::tests::test_memory_store_create_with_defaults ... ok
test builtin::memory_store::tests::test_memory_store_default ... ok
test builtin::memory_store::tests::test_memory_store_delete ... ok
test builtin::memory_store::tests::test_memory_store_delete_multiple ... ok
test builtin::memory_store::tests::test_memory_store_delete_not_found ... ok
test builtin::memory_store::tests::test_memory_store_get_nonexistent ... ok
test builtin::memory_store::tests::test_memory_store_list ... ok
test builtin::memory_store::tests::test_memory_store_partial_update ... ok
test builtin::memory_store::tests::test_memory_store_remove_blocks ... ok
test builtin::memory_store::tests::test_memory_store_update ... ok
test builtin::memory_store::tests::test_memory_store_update_add_and_remove_blocked_by_same_update ... ok
test builtin::memory_store::tests::test_memory_store_update_add_blocked_by ... ok
test builtin::memory_store::tests::test_memory_store_update_metadata_delete_with_null ... ok
test builtin::memory_store::tests::test_memory_store_update_metadata_merge ... ok
test builtin::memory_store::tests::test_memory_store_update_not_found ... ok
test builtin::memory_store::tests::test_memory_store_update_owner ... ok
test builtin::memory_store::tests::test_memory_store_update_remove_blocked_by ... ok
test builtin::memory_store::tests::test_memory_store_with_tasks ... ok
test builtin::project::tests::test_ensure_rkat_dir_creates_directory ... ok
test builtin::project::tests::test_ensure_rkat_dir_existing_directory ... ok
test builtin::project::tests::test_find_ancestor_with_at_start_dir ... ok
test builtin::project::tests::test_find_project_root_with_rkat_dir ... ok
test builtin::project::tests::test_find_project_root_without_rkat_returns_none ... ok
test builtin::project::tests::test_rkat_dir_takes_precedence_over_git ... ok
test builtin::shell::config::tests::test_shell_config_defaults ... ok
test builtin::shell::config::tests::test_shell_config_rejects_escape ... ok
test builtin::shell::config::tests::test_shell_config_serde_defaults_roundtrip ... ok
test builtin::shell::config::tests::test_shell_config_serde_roundtrip ... ok
test builtin::shell::config::tests::test_shell_config_struct ... ok
test builtin::shell::config::tests::test_shell_config_validate_nonexistent_dir ... ok
test builtin::shell::config::tests::test_shell_config_validate_unrestricted ... ok
test builtin::shell::config::tests::test_shell_config_validate_working_dir ... ok
test builtin::shell::config::tests::test_shell_config_with_project_root ... ok
test builtin::shell::config::tests::test_shell_error_display ... ok
test builtin::shell::config::tests::test_shell_error_from_io ... ok
test builtin::shell::config::tests::test_shell_error_io ... ok
test builtin::shell::config::tests::test_shell_error_variants ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_builtin ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_invalid_args ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_name ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_not_found ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_not_running ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_output ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_schema ... ok
test builtin::shell::job_cancel_tool::tests::test_shell_job_cancel_tool_struct ... ok
test builtin::shell::job_manager::tests::test_append_with_truncation_small_append ... ok
test builtin::shell::job_manager::tests::test_append_with_truncation_triggers_truncation ... ok
test builtin::shell::job_manager::tests::test_async_execution_nonblocking ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_background_job_auto_completes ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_cancel_job_atomic_status_check ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_cleanup_atomicity ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_cleanup_respects_max_completed_jobs ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_completed_job_count ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_concurrency_limit_enforced ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_concurrency_limit_excludes_completed ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_concurrency_limit_zero_means_unlimited ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_concurrent_job_spawning ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_error_context_job_already_completed ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_error_context_job_not_found ... ok
test builtin::shell::job_manager::tests::test_graceful_kill_function_exists ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_job_count ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_job_manager_cancel ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_job_manager_cancel_signal ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_job_manager_cancelled_status ... ignored, requires nu
test builtin::shell::job_manager::tests::test_job_manager_completed_status ... ignored, requires nu
test builtin::shell::job_manager::tests::test_job_manager_event_payload ... ok
test builtin::shell::job_manager::tests::test_job_manager_failed_status ... ignored, requires nu
test builtin::shell::job_manager::tests::test_job_manager_get_status ... ok
test builtin::shell::job_manager::tests::test_job_manager_has_event_sender ... ok
test builtin::shell::job_manager::tests::test_job_manager_list_jobs ... ok
test builtin::shell::job_manager::tests::test_job_manager_new ... ok
test builtin::shell::job_manager::tests::test_job_manager_sends_completion_event ... ok
test builtin::shell::job_manager::tests::test_job_manager_spawn ... ok
test builtin::shell::job_manager::tests::test_job_manager_spawn_immediate ... ok
test builtin::shell::job_manager::tests::test_job_manager_spawn_running ... ok
test builtin::shell::job_manager::tests::test_job_manager_struct ... ok
test builtin::shell::job_manager::tests::test_job_manager_timeout_status ... ignored, requires nu
test builtin::shell::job_manager::tests::test_job_manager_tokio_spawn ... ignored, requires nu
test builtin::shell::job_manager::tests::test_job_manager_with_event_sender ... ok
test builtin::shell::job_manager::tests::test_kill_reaps_process ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_kill_terminates_process ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_multibyte_utf8_output ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_process_group_configured ... ok
test builtin::shell::job_manager::tests::test_remove_job ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_remove_nonexistent_job ... ok
test builtin::shell::job_manager::tests::test_running_job_count ... ignored, e2e: spawns real shell process
test builtin::shell::job_manager::tests::test_streaming_truncation_utf8_safety ... ok
test builtin::shell::job_manager::tests::test_timeout_enforced ... ignored, requires nu
test builtin::shell::job_manager::tests::test_truncate_output_tail_emoji ... ok
test builtin::shell::job_manager::tests::test_truncate_output_tail_exact_limit ... ok
test builtin::shell::job_manager::tests::test_truncate_output_tail_exceeds_limit ... ok
test builtin::shell::job_manager::tests::test_truncate_output_tail_small_input ... ok
test builtin::shell::job_manager::tests::test_truncate_output_tail_utf8_boundary ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_builtin ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_invalid_args ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_name ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_not_found ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_output ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_schema ... ok
test builtin::shell::job_status_tool::tests::test_shell_job_status_tool_struct ... ok
test builtin::shell::jobs_list_tool::tests::test_shell_jobs_list_tool_builtin ... ok
test builtin::shell::jobs_list_tool::tests::test_shell_jobs_list_tool_empty_list ... ok
test builtin::shell::jobs_list_tool::tests::test_shell_jobs_list_tool_name ... ok
test builtin::shell::jobs_list_tool::tests::test_shell_jobs_list_tool_output ... ok
test builtin::shell::jobs_list_tool::tests::test_shell_jobs_list_tool_schema ... ok
test builtin::shell::jobs_list_tool::tests::test_shell_jobs_list_tool_struct ... ok
test builtin::shell::security::tests::test_blocked_dangerous_patterns ... ok
test builtin::shell::security::tests::test_blocked_pattern_in_larger_command ... ok
test builtin::shell::security::tests::test_case_insensitive_pattern_matching ... ok
test builtin::shell::security::tests::test_empty_command ... ok
test builtin::shell::security::tests::test_safe_commands ... ok
test builtin::shell::security::tests::test_safe_file_operations ... ok
test builtin::shell::security::tests::test_safe_git_commands ... ok
test builtin::shell::security::tests::test_security_config_defaults ... ok
test builtin::shell::security::tests::test_validate_command_or_error ... ok
test builtin::shell::security::tests::test_warning_for_chaining ... ok
test builtin::shell::security::tests::test_whitespace_command ... ok
test builtin::shell::tool::tests::test_long_output_captured ... ok
test builtin::shell::tool::tests::test_non_utf8_output ... ok
test builtin::shell::tool::tests::test_shell_detection_env_fallback ...
running 1 test
test builtin::shell::tool::tests::test_shell_detection_env_fallback ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 493 filtered out; finished in 0.00s

ok
test builtin::shell::tool::tests::test_shell_detection_error_includes_tried ... ok
test builtin::shell::tool::tests::test_shell_detection_explicit_path ... ok
test builtin::shell::tool::tests::test_shell_detection_platform_fallbacks ... ok
test builtin::shell::tool::tests::test_shell_output_serde_roundtrip ... ok
test builtin::shell::tool::tests::test_shell_output_timeout_format ... ok
test builtin::shell::tool::tests::test_shell_tool_allows_safe_commands ... ok
test builtin::shell::tool::tests::test_shell_tool_blocks_rm_rf_home ... ok
test builtin::shell::tool::tests::test_shell_tool_blocks_rm_rf_root ... ok
test builtin::shell::tool::tests::test_shell_tool_call_background_not_configured ... ok
test builtin::shell::tool::tests::test_shell_tool_call_invalid_args ... ok
test builtin::shell::tool::tests::test_shell_tool_call_success ... ok
test builtin::shell::tool::tests::test_shell_tool_call_with_working_dir ... ok
test builtin::shell::tool::tests::test_shell_tool_call_working_dir_escape ... ok
test builtin::shell::tool::tests::test_shell_tool_default_enabled ... ok
test builtin::shell::tool::tests::test_shell_tool_detect_nu ... ok
test builtin::shell::tool::tests::test_shell_tool_env_inheritance ... ok
test builtin::shell::tool::tests::test_shell_tool_explicit_path_takes_priority ... ok
test builtin::shell::tool::tests::test_shell_tool_find_shell_custom ...
running 1 test
test builtin::shell::tool::tests::test_shell_tool_find_shell_custom ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 493 filtered out; finished in 0.00s

ok
test builtin::shell::tool::tests::test_shell_tool_implements_builtin ... ok
test builtin::shell::tool::tests::test_shell_tool_name ... ok
test builtin::shell::tool::tests::test_shell_tool_new ... ok
test builtin::shell::tool::tests::test_shell_tool_not_installed_error ...
running 1 test
test builtin::shell::tool::tests::test_shell_tool_not_installed_error ... ok

test result: ok. 1 passed; 0 failed; 0 ignored; 0 measured; 493 filtered out; finished in 0.00s

ok
test builtin::shell::tool::tests::test_shell_tool_output_format ... ok
test builtin::shell::tool::tests::test_shell_tool_pwd_override ... ok
test builtin::shell::tool::tests::test_shell_tool_schema ... ok
test builtin::shell::tool::tests::test_shell_tool_struct ... ok
test builtin::shell::tool::tests::test_shell_tool_sync_execute ... ok
test builtin::shell::tool::tests::test_shell_tool_timeout ... ok
test builtin::shell::tool::tests::test_sync_parallel_execution ... ok
test builtin::shell::tool::tests::test_timeout_enforced_sync ... ok
test builtin::shell::tool::tests::test_truncate_multibyte_utf8 ... ok
test builtin::shell::tool::tests::test_truncate_to_tail_empty ... ok
test builtin::shell::tool::tests::test_truncate_to_tail_keeps_tail ... ok
test builtin::shell::tool::tests::test_truncate_to_tail_no_truncation ... ok
test builtin::shell::tool::tests::test_truncate_to_tail_truncates ... ok
test builtin::shell::tool::tests::test_truncate_to_tail_unicode ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_event_channel_receives_events ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_new ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_shared_job_manager ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_struct ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_tools ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_tools_all_implement_builtin ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_tools_order ... ok
test builtin::shell::tool_set::tests::test_shell_tool_set_with_event_channel ... ok
test builtin::shell::types::tests::test_background_job_serde_roundtrip ... ok
test builtin::shell::types::tests::test_background_job_struct ... ok
test builtin::shell::types::tests::test_job_id_as_ref ... ok
test builtin::shell::types::tests::test_job_id_default ... ok
test builtin::shell::types::tests::test_job_id_display ... ok
test builtin::shell::types::tests::test_job_id_format ... ok
test builtin::shell::types::tests::test_job_id_new_unique ... ok
test builtin::shell::types::tests::test_job_id_serde_roundtrip ... ok
test builtin::shell::types::tests::test_job_status_completed_fields ... ok
test builtin::shell::types::tests::test_job_status_serde_roundtrip ... ok
test builtin::shell::types::tests::test_job_status_variants ... ok
test builtin::shell::types::tests::test_job_summary_serde_roundtrip ... ok
test builtin::shell::types::tests::test_job_summary_status_values ... ok
test builtin::shell::types::tests::test_job_summary_struct ... ok
test builtin::store::tests::test_memory_store_add_remove_blocks ... ok
test builtin::store::tests::test_memory_store_create_and_get ... ok
test builtin::store::tests::test_memory_store_delete ... ok
test builtin::store::tests::test_memory_store_delete_not_found ... ok
test builtin::store::tests::test_memory_store_list ... ok
test builtin::store::tests::test_memory_store_update ... ok
test builtin::store::tests::test_memory_store_update_not_found ... ok
test builtin::sub_agent::cancel::tests::test_cancel_already_cancelled ... ok
test builtin::sub_agent::cancel::tests::test_cancel_invalid_uuid ... ok
test builtin::sub_agent::cancel::tests::test_cancel_not_found ... ok
test builtin::sub_agent::cancel::tests::test_cancel_running_agent ... ok
test builtin::sub_agent::cancel::tests::test_default_disabled ... ok
test builtin::sub_agent::cancel::tests::test_tool_def ... ok
test builtin::sub_agent::cancel::tests::test_tool_name ... ok
test builtin::sub_agent::config::tests::test_sub_agent_config_builder ... ok
test builtin::sub_agent::config::tests::test_sub_agent_config_default ... ok
test builtin::sub_agent::config::tests::test_sub_agent_config_serde_defaults ... ok
test builtin::sub_agent::config::tests::test_sub_agent_config_serde_roundtrip ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_concurrency_limit ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_debug ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_depth_limit ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_execution_failed ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_invalid_arguments ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_invalid_provider ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_invalid_state ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_missing_api_key ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_not_found ... ok
test builtin::sub_agent::config::tests::test_sub_agent_error_tool_access_denied ... ok
test builtin::sub_agent::fork::tests::test_default_disabled ... ok
test builtin::sub_agent::fork::tests::test_fork_client_creation_failure ... ok
test builtin::sub_agent::fork::tests::test_fork_empty_prompt ... ok
test builtin::sub_agent::fork::tests::test_fork_inherits_message_count ... ok
test builtin::sub_agent::fork::tests::test_fork_invalid_provider ... ok
test builtin::sub_agent::fork::tests::test_resolve_budget_policy ... ok
test builtin::sub_agent::fork::tests::test_resolve_model ... ok
test builtin::sub_agent::fork::tests::test_resolve_provider ... ok
test builtin::sub_agent::fork::tests::test_tool_def ... ok
test builtin::sub_agent::fork::tests::test_tool_name ... ok
test builtin::sub_agent::list::tests::test_default_disabled ... ok
test builtin::sub_agent::list::tests::test_list_empty ... ok
test builtin::sub_agent::list::tests::test_list_with_registered_agent ... ok
test builtin::sub_agent::list::tests::test_tool_def ... ok
test builtin::sub_agent::list::tests::test_tool_name ... ok
test builtin::sub_agent::runner::tests::test_create_child_comms_config ... ok
test builtin::sub_agent::runner::tests::test_create_child_peer_entry ... ok
test builtin::sub_agent::runner::tests::test_create_child_trusted_peers ... ok
test builtin::sub_agent::runner::tests::test_create_fork_session ... ok
test builtin::sub_agent::runner::tests::test_create_spawn_session ... ok
test builtin::sub_agent::runner::tests::test_create_spawn_session_with_system ... ok
test builtin::sub_agent::runner::tests::test_sub_agent_runner_error_display ... ok
test builtin::sub_agent::spawn::tests::host_mode::test_spawn_params_host_mode_default_false ... ok
test builtin::sub_agent::spawn::tests::host_mode::test_spawn_params_host_mode_explicit_false ... ok
test builtin::sub_agent::spawn::tests::host_mode::test_spawn_params_host_mode_explicit_true ... ok
test builtin::sub_agent::spawn::tests::host_mode::test_tool_def_includes_host_mode ... ok
test builtin::sub_agent::spawn::tests::model_validation::test_allowed_model_passes_validation ... ok
test builtin::sub_agent::spawn::tests::model_validation::test_disallowed_model_fails_validation ... ok
test builtin::sub_agent::spawn::tests::model_validation::test_tool_def_includes_allowed_models ... ok
test builtin::sub_agent::spawn::tests::test_default_disabled ... ok
test builtin::sub_agent::spawn::tests::test_resolve_budget_capped ... ok
test builtin::sub_agent::spawn::tests::test_resolve_budget_default ... ok
test builtin::sub_agent::spawn::tests::test_resolve_budget_explicit ... ok
test builtin::sub_agent::spawn::tests::test_resolve_model_default ... ok
test builtin::sub_agent::spawn::tests::test_resolve_model_explicit ... ok
test builtin::sub_agent::spawn::tests::test_resolve_provider_default ... ok
test builtin::sub_agent::spawn::tests::test_resolve_provider_explicit ... ok
test builtin::sub_agent::spawn::tests::test_resolve_provider_invalid ... ok
test builtin::sub_agent::spawn::tests::test_spawn_client_creation_failure ... ok
test builtin::sub_agent::spawn::tests::test_spawn_empty_prompt ... ok
test builtin::sub_agent::spawn::tests::test_spawn_invalid_provider ... ok
test builtin::sub_agent::spawn::tests::test_spawn_whitespace_prompt ... ok
test builtin::sub_agent::spawn::tests::test_tool_access_input_conversion ... ok
test builtin::sub_agent::spawn::tests::test_tool_def ... ok
test builtin::sub_agent::spawn::tests::test_tool_name ... ok
test builtin::sub_agent::state::tests::test_parent_trusted_peers_can_be_updated ... ok
test builtin::sub_agent::state::tests::test_spawn_tool_uses_parent_comms_for_subagent ... ok
test builtin::sub_agent::state::tests::test_state_can_spawn ... ok
test builtin::sub_agent::state::tests::test_state_cannot_nest_at_max_depth ... ok
test builtin::sub_agent::state::tests::test_state_cannot_nest_when_disabled ... ok
test builtin::sub_agent::state::tests::test_state_creation ... ok
test builtin::sub_agent::state::tests::test_state_debug ... ok
test builtin::sub_agent::state::tests::test_state_depth ... ok
test builtin::sub_agent::state::tests::test_state_new_has_no_parent_comms ... ok
test builtin::sub_agent::state::tests::test_state_with_comms_has_parent_comms ... ok
test builtin::sub_agent::state::tests::test_subagent_can_dispatch_inherited_tools ... ok
test builtin::sub_agent::state::tests::test_subagent_tool_dispatcher_excludes_subagent_tools ... ok
test builtin::sub_agent::state::tests::test_subagent_tool_dispatcher_provides_expected_tools ... ok
test builtin::sub_agent::status::tests::test_default_disabled ... ok
test builtin::sub_agent::status::tests::test_parse_agent_id_invalid ... ok
test builtin::sub_agent::status::tests::test_parse_agent_id_valid ... ok
test builtin::sub_agent::status::tests::test_status_invalid_uuid ... ok
test builtin::sub_agent::status::tests::test_status_missing_agent_id ... ok
test builtin::sub_agent::status::tests::test_status_not_found ... ok
test builtin::sub_agent::status::tests::test_tool_def ... ok
test builtin::sub_agent::status::tests::test_tool_name ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_all_disabled_by_default ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_creation ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_debug ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_definitions_valid ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_shared_state ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_tool_names ... ok
test builtin::sub_agent::tool_set::tests::test_tool_set_tools ... ok
test builtin::tests::entry_tests::test_entry_new_default_disabled ... ok
test builtin::tests::entry_tests::test_entry_new_default_enabled ... ok
test builtin::tests::entry_tests::test_entry_with_enabled_override ... ok
test builtin::tests::entry_tests::test_mock_tool_call ... ok
test builtin::tests::test_builtin_tool_error_debug ... ok
test builtin::tests::test_builtin_tool_error_execution_failed ... ok
test builtin::tests::test_builtin_tool_error_invalid_args ... ok
test builtin::tests::test_builtin_tool_error_task_error ... ok
test builtin::tools::task_create::tests::test_task_create_basic ... ok
test builtin::tools::task_create::tests::test_task_create_default_enabled ... ok
test builtin::tools::task_create::tests::test_task_create_empty_args ... ok
test builtin::tools::task_create::tests::test_task_create_empty_labels ... ok
test builtin::tools::task_create::tests::test_task_create_invalid_priority ... ok
test builtin::tools::task_create::tests::test_task_create_missing_required_field ... ok
test builtin::tools::task_create::tests::test_task_create_multiple_tasks ... ok
test builtin::tools::task_create::tests::test_task_create_tool_def ... ok
test builtin::tools::task_create::tests::test_task_create_with_all_fields ... ok
test builtin::tools::task_create::tests::test_task_create_with_blocks ... ok
test builtin::tools::task_create::tests::test_task_create_with_labels ... ok
test builtin::tools::task_create::tests::test_task_create_with_priority ... ok
test builtin::tools::task_create::tests::test_task_create_with_session ... ok
test builtin::tools::task_get::tests::test_task_get_empty_string_id ... ok
test builtin::tools::task_get::tests::test_task_get_existing ... ok
test builtin::tools::task_get::tests::test_task_get_extra_fields_ignored ... ok
test builtin::tools::task_get::tests::test_task_get_missing_id ... ok
test builtin::tools::task_get::tests::test_task_get_not_found ... ok
test builtin::tools::task_get::tests::test_task_get_null_id ... ok
test builtin::tools::task_get::tests::test_task_get_returns_complete_task_structure ... ok
test builtin::tools::task_get::tests::test_task_get_tool_def ... ok
test builtin::tools::task_get::tests::test_task_get_wrong_type_id ... ok
test builtin::tools::task_list::tests::test_task_list_all ... ok
test builtin::tools::task_list::tests::test_task_list_empty ... ok
test builtin::tools::task_list::tests::test_task_list_empty_labels_filter ... ok
test builtin::tools::task_list::tests::test_task_list_filter_by_labels ... ok
test builtin::tools::task_list::tests::test_task_list_filter_by_status ... ok
test builtin::tools::task_list::tests::test_task_list_filter_by_status_and_labels ... ok
test builtin::tools::task_list::tests::test_task_list_invalid_status ... ok
test builtin::tools::task_list::tests::test_task_list_null_params ... ok
test builtin::tools::task_list::tests::test_task_list_tool_def ... ok
test builtin::tools::task_update::tests::test_task_update_add_blocks ... ok
test builtin::tools::task_update::tests::test_task_update_invalid_priority ... ok
test builtin::tools::task_update::tests::test_task_update_invalid_status ... ok
test builtin::tools::task_update::tests::test_task_update_labels ... ok
test builtin::tools::task_update::tests::test_task_update_missing_id ... ok
test builtin::tools::task_update::tests::test_task_update_multiple_fields ... ok
test builtin::tools::task_update::tests::test_task_update_not_found ... ok
test builtin::tools::task_update::tests::test_task_update_priority ... ok
test builtin::tools::task_update::tests::test_task_update_remove_blocks ... ok
test builtin::tools::task_update::tests::test_task_update_status ... ok
test builtin::tools::task_update::tests::test_task_update_subject_and_description ... ok
test builtin::tools::task_update::tests::test_task_update_tool_add_blocked_by ... ok
test builtin::tools::task_update::tests::test_task_update_tool_all_new_params_together ... ok
test builtin::tools::task_update::tests::test_task_update_tool_def ... ok
test builtin::tools::task_update::tests::test_task_update_tool_def_has_add_blocked_by_param ... ok
test builtin::tools::task_update::tests::test_task_update_tool_def_has_metadata_param ... ok
test builtin::tools::task_update::tests::test_task_update_tool_def_has_owner_param ... ok
test builtin::tools::task_update::tests::test_task_update_tool_def_has_remove_blocked_by_param ... ok
test builtin::tools::task_update::tests::test_task_update_tool_default_enabled ... ok
test builtin::tools::task_update::tests::test_task_update_tool_metadata_delete_with_null ... ok
test builtin::tools::task_update::tests::test_task_update_tool_metadata_merge ... ok
test builtin::tools::task_update::tests::test_task_update_tool_remove_blocked_by ... ok
test builtin::tools::task_update::tests::test_task_update_tool_set_metadata ... ok
test builtin::tools::task_update::tests::test_task_update_tool_set_owner ... ok
test builtin::tools::task_update::tests::test_task_update_with_session ... ok
test builtin::types::tests::task_blocked_by_tests::test_task_blocked_by_field_exists ... ok
test builtin::types::tests::task_blocked_by_tests::test_task_blocked_by_multiple_blockers ... ok
test builtin::types::tests::task_blocked_by_tests::test_task_blocked_by_serialization ... ok
test builtin::types::tests::task_blocked_by_tests::test_task_blocked_by_single_blocker ... ok
test builtin::types::tests::task_blocked_by_tests::test_task_blocks_vs_blocked_by_distinction ... ok
test builtin::types::tests::task_metadata_tests::test_task_metadata_field_exists ... ok
test builtin::types::tests::task_metadata_tests::test_task_metadata_serialization ... ok
test builtin::types::tests::task_metadata_tests::test_task_metadata_with_complex_values ... ok
test builtin::types::tests::task_metadata_tests::test_task_metadata_with_values ... ok
test builtin::types::tests::task_owner_tests::test_task_owner_field_exists ... ok
test builtin::types::tests::task_owner_tests::test_task_owner_none_serialization ... ok
test builtin::types::tests::task_owner_tests::test_task_owner_serialization ... ok
test builtin::types::tests::task_owner_tests::test_task_owner_with_value ... ok
test builtin::types::tests::test_task_error_display ... ok
test builtin::types::tests::test_task_id_display ... ok
test builtin::types::tests::test_task_id_from_string ... ok
test builtin::types::tests::test_task_id_new_generates_ulid ... ok
test builtin::types::tests::test_task_id_serde ... ok
test builtin::types::tests::test_task_priority_default ... ok
test builtin::types::tests::test_task_priority_serde ... ok
test builtin::types::tests::test_task_serialization_roundtrip ... ok
test builtin::types::tests::test_task_status_default ... ok
test builtin::types::tests::test_task_status_serde ... ok
test builtin::types::tests::test_task_store_data_serde ... ok
test builtin::types::tests::test_task_update_all_new_fields_together ... ok
test builtin::types::tests::test_task_update_default ... ok
test builtin::types::tests::test_task_update_has_add_blocked_by_field ... ok
test builtin::types::tests::test_task_update_has_metadata_field ... ok
test builtin::types::tests::test_task_update_has_owner_field ... ok
test builtin::types::tests::test_task_update_has_remove_blocked_by_field ... ok
test builtin::utility::datetime::tests::test_datetime_tool_def ... ok
test builtin::utility::datetime::tests::test_datetime_tool_default_enabled ... ok
test builtin::utility::datetime::tests::test_datetime_tool_iso8601_format ... ok
test builtin::utility::datetime::tests::test_datetime_tool_name ... ok
test builtin::utility::datetime::tests::test_datetime_tool_returns_valid_data ... ok
test builtin::utility::datetime::tests::test_datetime_tool_unix_timestamp_reasonable ... ok
test builtin::utility::tool_set::tests::test_utility_tool_set_all_enabled_by_default ... ok
test builtin::utility::tool_set::tests::test_utility_tool_set_creation ... ok
test builtin::utility::tool_set::tests::test_utility_tool_set_default ... ok
test builtin::utility::tool_set::tests::test_utility_tool_set_tool_names ... ok
test builtin::utility::tool_set::tests::test_utility_tool_set_tools ... ok
test builtin::utility::tool_set::tests::test_utility_tool_set_usage_instructions ... ok
test builtin::utility::wait::tests::test_wait_tool_clamps_max_value ... ok
test builtin::utility::wait::tests::test_wait_tool_clamps_negative_value ... ok
test builtin::utility::wait::tests::test_wait_tool_completes_without_interrupt ... ok
test builtin::utility::wait::tests::test_wait_tool_def ... ok
test builtin::utility::wait::tests::test_wait_tool_default_enabled ... ok
test builtin::utility::wait::tests::test_wait_tool_interrupted_by_message ... ok
test builtin::utility::wait::tests::test_wait_tool_invalid_args ... ok
test builtin::utility::wait::tests::test_wait_tool_missing_seconds ... ok
test builtin::utility::wait::tests::test_wait_tool_name ... ok
test builtin::utility::wait::tests::test_wait_tool_short_wait ... ok
test builtin::utility::wait::tests::test_wait_tool_stale_interrupt_does_not_affect_subsequent_waits ... ok
test builtin::utility::wait::tests::test_wait_tool_without_interrupt_receiver ... ok
test comms_dispatcher::tests::test_comms_tool_delegation_dispatch ... ok
test comms_dispatcher::tests::test_comms_tool_delegation_tools ... ok
test comms_dispatcher::tests::test_comms_tool_dispatch ... ok
test comms_dispatcher::tests::test_comms_tool_dispatch_unknown ... ok
test comms_dispatcher::tests::test_comms_tool_dispatcher_trait ... ok
test comms_dispatcher::tests::test_comms_tools_list ... ok
test dispatcher::tests::test_dispatch_unknown_tool ... ok
test dispatcher::tests::test_dispatch_validates_args ... ok
test dispatcher::tests::test_tools_returns_empty_vec_for_new_dispatcher ... ok
test dispatcher::tests::test_tools_returns_registered_tools ... ok
test registry::tests::test_tool_defs_returns_arc_references ... ok
test registry::tests::test_validate_missing_required ... ok
test registry::tests::test_validate_tool_not_found ... ok
test registry::tests::test_validate_uses_fast_path_for_valid_input ... ok
test registry::tests::test_validate_valid_args ... ok
test registry::tests::test_validate_wrong_type ... ok

test result: ok. 468 passed; 0 failed; 26 ignored; 0 measured; 0 filtered out; finished in 2.07s

     Running tests/rct_contracts.rs (target/debug/deps/rct_contracts-a568765b66fa855f)

running 8 tests
test test_rct_contracts_agent_list_schema_contract ... ok
test test_rct_contracts_all_builtin_schemas_have_required_field ... ok
test test_rct_contracts_inv_004_task_tools_session_id ... ok
test test_rct_contracts_inv_007_builtin_task_persistence_strategy ... ok
test test_rct_contracts_no_manual_tool_schema_literals ... ok
test test_rct_contracts_shell_defaults_contract ... ok
test test_rct_contracts_task_store_persistence_contract ... ok
test test_rct_contracts_tool_dispatcher_contract ... ok

test result: ok. 8 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.08s

   Doc-tests meerkat

running 1 test
test meerkat/src/lib.rs - (line 7) ... ignored

test result: ok. 0 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_agent

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_client

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_comms

running 1 test
test meerkat-comms/src/inproc.rs - inproc (line 9) ... ignored

test result: ok. 0 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_comms_agent

running 1 test
test meerkat-comms-agent/src/lib.rs - (line 23) ... ignored

test result: ok. 0 passed; 0 failed; 1 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_comms_mcp

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_core

running 5 tests
test meerkat-core/src/agent/builder.rs - agent::builder::AgentBuilder::provider_params (line 110) ... ignored
test meerkat-core/src/comms_bootstrap.rs - comms_bootstrap (line 10) ... ignored
test meerkat-core/src/comms_bootstrap.rs - comms_bootstrap (line 16) ... ignored
test meerkat-core/src/comms_runtime.rs - comms_runtime::CommsRuntime::inproc_only (line 238) ... ignored
test meerkat-core/src/gateway.rs - gateway (line 15) ... ignored

test result: ok. 0 passed; 0 failed; 5 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_integration_tests

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_mcp_client

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_mcp_server

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_rest

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_store

running 0 tests

test result: ok. 0 passed; 0 failed; 0 ignored; 0 measured; 0 filtered out; finished in 0.00s

   Doc-tests meerkat_tools

running 10 tests
test meerkat-tools/src/builtin/comms/mod.rs - builtin::comms (line 9) ... ignored
test meerkat-tools/src/builtin/comms/surface.rs - builtin::comms::surface (line 13) ... ignored
test meerkat-tools/src/builtin/comms/surface.rs - builtin::comms::surface::CommsToolSurface (line 43) ... ignored
test meerkat-tools/src/builtin/comms/surface.rs - builtin::comms::surface::CommsToolSurface::peer_availability (line 108) ... ignored
test meerkat-tools/src/builtin/file_store.rs - builtin::file_store::FileTaskStore (line 31) ... ignored
test meerkat-tools/src/builtin/memory_store.rs - builtin::memory_store::MemoryTaskStore (line 18) ... ignored
test meerkat-tools/src/builtin/mod.rs - builtin (line 22) ... ignored
test meerkat-tools/src/builtin/tools/task_create.rs - builtin::tools::task_create::TaskCreateTool (line 51) ... ignored
test meerkat-tools/src/builtin/tools/task_list.rs - builtin::tools::task_list::TaskListTool (line 32) ... ignored
test meerkat-tools/src/lib.rs - (line 10) ... ignored

test result: ok. 0 passed; 0 failed; 10 ignored; 0 measured; 0 filtered out; finished in 0.00s
